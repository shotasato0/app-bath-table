# ä»‹è­·æ–½è¨­ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¢ãƒ—ãƒªé–‹ç™ºã‚¬ã‚¤ãƒ‰ï¼šæœªçµŒé¨“è€…ã‹ã‚‰å®Ÿç”¨ãƒ¬ãƒ™ãƒ«ã¾ã§

## ğŸ¯ ã“ã®ã‚¬ã‚¤ãƒ‰ã«ã¤ã„ã¦

ã“ã®ã‚¬ã‚¤ãƒ‰ã¯ã€**å®Ÿéš›ã®é–‹ç™ºå±¥æ­´ï¼ˆ11ã®PRã€438ã‚³ãƒŸãƒƒãƒˆï¼‰ã‚’è©³ç´°åˆ†æ**ã—ã¦ä½œæˆã•ã‚ŒãŸã€æœªçµŒé¨“è€…ã§ã‚‚æ®µéšçš„ã«å®Ÿç”¨ãƒ¬ãƒ™ãƒ«ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã§ãã‚‹åŒ…æ‹¬çš„ãªæ•™è‚²ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã™ã€‚

**ç‰¹å¾´**:
- å®Ÿéš›ã®é–‹ç™ºè€…ã®æ€è€ƒãƒ—ãƒ­ã‚»ã‚¹ã¨è©¦è¡ŒéŒ¯èª¤ã‚’å†ç¾
- ã‚ˆãã‚ã‚‹é–“é•ã„ã¨ãã®è§£æ±ºæ–¹æ³•ã‚’äº‹å‰ã«æ˜ç¤º
- å„æ®µéšã§ã®å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆã¨æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’æ˜ç¢ºåŒ–

---

## ğŸ“Š ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦

### ä½•ã‚’ä½œã‚‹ã®ã‹
**ä»‹è­·æ–½è¨­å‘ã‘å…¥æµ´ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ **

- ğŸ“… **ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼å‹UI**ã§å…¥æµ´ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç®¡ç†
- ğŸ‘¥ **ä½æ°‘ç®¡ç†æ©Ÿèƒ½**ã§ãƒ‰ãƒ©ãƒƒã‚°&ãƒ‰ãƒ­ãƒƒãƒ—ã«ã‚ˆã‚‹ç›´æ„Ÿçš„æ“ä½œ
- ğŸ” **è·å“¡èªè¨¼ã‚·ã‚¹ãƒ†ãƒ **ã§æ¨©é™ç®¡ç†
- ğŸ“± **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**ã§ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ

### å®Œæˆå½¢ã®ã‚¤ãƒ¡ãƒ¼ã‚¸
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¥ ä»‹è­·æ–½è¨­ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚·ã‚¹ãƒ†ãƒ                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [ä½æ°‘ä¸€è¦§]  â”‚           [ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º]                     â”‚
â”‚ â–« ç”°ä¸­å¤ªéƒ  â”‚  æœˆ   ç«   æ°´   æœ¨   é‡‘   åœŸ   æ—¥              â”‚
â”‚ â–« ä½è—¤èŠ±å­  â”‚ â”Œâ”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”¬â”€â”€â”               â”‚
â”‚ â–« å±±ç”°æ¬¡éƒ  â”‚ â”‚äºˆâ”‚äºˆâ”‚  â”‚  â”‚äºˆâ”‚  â”‚  â”‚               â”‚
â”‚ (ãƒ‰ãƒ©ãƒƒã‚°å¯) â”‚ â”‚å®šâ”‚å®šâ”‚  â”‚  â”‚å®šâ”‚  â”‚  â”‚               â”‚
â”‚             â”‚ â”œâ”€å…¥â”€å…¥â”€å…¥â”€å…¥â”€å…¥â”€å…¥â”€å…¥â”€â”¤               â”‚
â”‚             â”‚ â”‚æµ´â”‚æµ´â”‚æµ´â”‚æµ´â”‚æµ´â”‚æµ´â”‚æµ´â”‚               â”‚
â”‚             â”‚ â””â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”´â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯
- **ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰**: Laravel 12 (PHP)
- **ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰**: React + Inertia.js
- **ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°**: Tailwind CSS
- **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: MySQL/PostgreSQL
- **èªè¨¼**: Laravel Breeze

### å¿…è¦ãªå‰æçŸ¥è­˜

#### å¿…é ˆãƒ¬ãƒ™ãƒ«ï¼ˆé–‹å§‹å‰ã«è¦ç¿’å¾—ï¼‰
- HTML/CSS ã®åŸºæœ¬
- PHP ã®åŸºæœ¬æ§‹æ–‡
- JavaScript ã®åŸºæœ¬

#### æ¨å¥¨ãƒ¬ãƒ™ãƒ«ï¼ˆé€²è¡Œä¸­ã«å­¦ç¿’å¯èƒ½ï¼‰
- Laravel ã®åŸºæœ¬æ¦‚å¿µ
- React ã®åŸºæœ¬
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã®åŸºç¤

---

## ğŸ—ï¸ é–‹ç™ºç’°å¢ƒæ§‹ç¯‰ã‚¬ã‚¤ãƒ‰

### å¿…è¦ãªãƒ„ãƒ¼ãƒ«

#### 1. åŸºæœ¬ç’°å¢ƒ
```bash
# PHP 8.2ä»¥ä¸Š
php --version

# Composerï¼ˆPHPãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ï¼‰
composer --version

# Node.js 18ä»¥ä¸Š
node --version
npm --version

# Dockerï¼ˆæ¨å¥¨ï¼‰
docker --version
docker-compose --version
```

#### 2. é–‹ç™ºãƒ„ãƒ¼ãƒ«
```bash
# Git
git --version

# VS Codeï¼ˆæ¨å¥¨ã‚¨ãƒ‡ã‚£ã‚¿ï¼‰
code --version
```

### ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

#### STEP 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåˆæœŸåŒ–ï¼ˆ30åˆ†ï¼‰

```bash
# Laravel ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
composer create-project laravel/laravel care-facility-calendar
cd care-facility-calendar

# Laravel Breezeã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆèªè¨¼æ©Ÿèƒ½ï¼‰
composer require laravel/breeze --dev
./vendor/bin/sail artisan breeze:install react
npm install && npm run build

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®š
cp .env.example .env
php artisan key:generate

# .envãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­å®šï¼‰
DB_CONNECTION=mysql
DB_HOST=mysql
DB_PORT=3306
DB_DATABASE=care_facility_calendar
DB_USERNAME=sail
DB_PASSWORD=password
```

#### STEP 2: é–‹ç™ºç’°å¢ƒèµ·å‹•ç¢ºèªï¼ˆ15åˆ†ï¼‰

```bash
# Sailã‚’èµ·å‹•
./vendor/bin/sail up -d

# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
./vendor/bin/sail artisan migrate

# ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã‚µãƒ¼ãƒãƒ¼
npm run dev
```

**ç¢ºèªé …ç›®**:
- [ ] http://localhost ã§Welcomeç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] http://localhost/register ã§ç™»éŒ²ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã¨ãƒ­ã‚°ã‚¤ãƒ³ãŒã§ãã‚‹

---

## ğŸš€ æ®µéšçš„å®Ÿè£…ã‚¬ã‚¤ãƒ‰

## Phase 1: ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºç›¤æ§‹ç¯‰ï¼ˆPR #1ç›¸å½“ï¼‰

### ã“ã®æ®µéšã®ç›®æ¨™
- **åŸºæœ¬çš„ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆã‚’ç†è§£ã™ã‚‹**
- **Laravel ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ»ãƒ¢ãƒ‡ãƒ«ãƒ»ã‚·ãƒ¼ãƒ€ãƒ¼ã®ä»•çµ„ã¿ã‚’å­¦ã¶**
- **ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­è¨ˆãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’èº«ã«ã¤ã‘ã‚‹**

### å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½
1. éƒ¨ç½²ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«
2. ä½æ°‘ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«
3. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç¨®åˆ¥ãƒ†ãƒ¼ãƒ–ãƒ«
4. ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¥ä»˜ãƒ†ãƒ¼ãƒ–ãƒ«
5. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«
6. æ¨©é™ç®¡ç†ãƒ†ãƒ¼ãƒ–ãƒ«

### å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ
- **ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**ã®æ­£ã—ã„æ›¸ãæ–¹
- **ãƒ¢ãƒ‡ãƒ«ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**ã®è¨­å®šæ–¹æ³•
- **ã‚·ãƒ¼ãƒ€ãƒ¼**ã«ã‚ˆã‚‹åˆæœŸãƒ‡ãƒ¼ã‚¿æŠ•å…¥
- **ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆ**ã®è€ƒãˆæ–¹

---

### ğŸ› ï¸ å®Ÿè£…æ‰‹é † 1-1: éƒ¨ç½²ç®¡ç†æ©Ÿèƒ½

#### èƒŒæ™¯çŸ¥è­˜
å®Ÿéš›ã®é–‹ç™ºã§ã¯ã€Œéƒ¨ç½² â†’ ä½æ°‘ â†’ ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã€ã®é †åºã§è¨­è¨ˆã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã¯ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¾å­˜é–¢ä¿‚ã‚’è€ƒæ…®ã—ãŸçµæœã§ã™ã€‚

#### æ‰‹é †

**1. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ**
```bash
./vendor/bin/sail artisan make:migration create_departments_table
```

**2. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ç·¨é›†**
```php
// database/migrations/xxxx_create_departments_table.php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('departments', function (Blueprint $table) {
            $table->id();
            $table->string('department_name', 100)->comment('éƒ¨ç½²å');
            $table->timestamps();
            
            // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®š
            $table->index('department_name');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('departments');
    }
};
```

**3. ãƒ¢ãƒ‡ãƒ«ä½œæˆ**
```bash
./vendor/bin/sail artisan make:model Department
```

```php
// app/Models/Department.php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class Department extends Model
{
    use HasFactory;

    protected $fillable = [
        'department_name',
    ];

    // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: éƒ¨ç½²ã¯è¤‡æ•°ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æŒã¤
    public function users()
    {
        return $this->hasMany(User::class);
    }

    // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: éƒ¨ç½²ã¯è¤‡æ•°ã®ä½æ°‘ã‚’æŒã¤
    public function residents()
    {
        return $this->hasMany(Resident::class);
    }
}
```

**4. ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ä½œæˆ**
```bash
./vendor/bin/sail artisan make:controller DepartmentController --resource
```

```php
// app/Http/Controllers/DepartmentController.php
<?php

namespace App\Http\Controllers;

use App\Models\Department;
use Illuminate\Http\Request;

class DepartmentController extends Controller
{
    public function index()
    {
        $departments = Department::with('users', 'residents')->get();
        return response()->json($departments);
    }

    public function store(Request $request)
    {
        $validated = $request->validate([
            'department_name' => 'required|string|max:100|unique:departments'
        ]);

        $department = Department::create($validated);
        return response()->json($department, 201);
    }

    public function show(Department $department)
    {
        return response()->json($department->load('users', 'residents'));
    }

    public function update(Request $request, Department $department)
    {
        $validated = $request->validate([
            'department_name' => 'required|string|max:100|unique:departments,department_name,' . $department->id
        ]);

        $department->update($validated);
        return response()->json($department);
    }

    public function destroy(Department $department)
    {
        $department->delete();
        return response()->json(null, 204);
    }
}
```

**5. ã‚·ãƒ¼ãƒ€ãƒ¼ä½œæˆ**
```bash
./vendor/bin/sail artisan make:seeder DepartmentSeeder
```

```php
// database/seeders/DepartmentSeeder.php
<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Department;

class DepartmentSeeder extends Seeder
{
    public function run(): void
    {
        $departments = [
            ['department_name' => 'çœ‹è­·éƒ¨'],
            ['department_name' => 'ä»‹è­·éƒ¨'],
            ['department_name' => 'ãƒªãƒãƒ“ãƒªãƒ†ãƒ¼ã‚·ãƒ§ãƒ³éƒ¨'],
            ['department_name' => 'æ „é¤Šç®¡ç†éƒ¨'],
            ['department_name' => 'äº‹å‹™éƒ¨'],
        ];

        foreach ($departments as $department) {
            Department::create($department);
        }
    }
}
```

**6. å®Ÿè¡Œã¨ãƒ†ã‚¹ãƒˆ**
```bash
# ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
./vendor/bin/sail artisan migrate

# ã‚·ãƒ¼ãƒ€ãƒ¼å®Ÿè¡Œ
./vendor/bin/sail artisan db:seed --class=DepartmentSeeder

# å‹•ä½œç¢ºèª
./vendor/bin/sail artisan tinker
# >> Department::all()
# >> Department::find(1)->users
```

#### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨è§£æ±ºæ–¹æ³•

**ã‚¨ãƒ©ãƒ¼1: `SQLSTATE[42000]: Syntax error`**
```
åŸå› : ã‚«ãƒ©ãƒ åã‚„ãƒ†ãƒ¼ãƒ–ãƒ«åã«MySQLã®äºˆç´„èªã‚’ä½¿ç”¨
è§£æ±º: ãƒãƒƒã‚¯ã‚¯ã‚©ãƒ¼ãƒˆã§å›²ã‚€ã‹ã€åˆ¥ã®åå‰ã‚’ä½¿ç”¨
```

**ã‚¨ãƒ©ãƒ¼2: `Class 'Department' not found`**
```
åŸå› : ã‚ªãƒ¼ãƒˆãƒ­ãƒ¼ãƒ€ãƒ¼ã®ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãŒå¤ã„
è§£æ±º: composer dump-autoload
```

---

### ğŸ› ï¸ å®Ÿè£…æ‰‹é † 1-2: ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†æ©Ÿèƒ½æ‹¡å¼µ

#### èƒŒæ™¯
å®Ÿéš›ã®é–‹ç™ºã§ã¯ã€æ—¢å­˜ã®usersãƒ†ãƒ¼ãƒ–ãƒ«ã‚’**ä¸€åº¦ãƒªã‚»ãƒƒãƒˆ**ã—ã¦å†æ§‹ç¯‰ã—ã¾ã—ãŸã€‚ã“ã‚Œã¯è¨­è¨ˆå¤‰æ›´ã®éš›ã«ã‚ˆãã‚ã‚‹æ‰‹æ³•ã§ã™ã€‚

#### æ‰‹é †

**1. ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ†ãƒ¼ãƒ–ãƒ«æ‹¡å¼µãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**
```bash
./vendor/bin/sail artisan make:migration modify_users_table_for_staff
```

```php
// database/migrations/xxxx_modify_users_table_for_staff.php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::table('users', function (Blueprint $table) {
            // è·å“¡ç”¨ã®è¿½åŠ ã‚«ãƒ©ãƒ 
            $table->string('username', 50)->unique()->after('name')->comment('ãƒ­ã‚°ã‚¤ãƒ³ID');
            $table->enum('role', ['admin', 'staff', 'viewer'])->default('staff')->after('email')->comment('æ¨©é™');
            $table->foreignId('department_id')->nullable()->constrained()->after('role')->comment('æ‰€å±éƒ¨ç½²');
            
            // emailã‚’nullableã«å¤‰æ›´ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ­ã‚°ã‚¤ãƒ³å¯¾å¿œï¼‰
            $table->string('email')->nullable()->change();
            
            // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®š
            $table->index('username');
            $table->index('role');
        });
    }

    public function down(): void
    {
        Schema::table('users', function (Blueprint $table) {
            $table->dropColumn(['username', 'role', 'department_id']);
            $table->string('email')->nullable(false)->change();
        });
    }
};
```

**2. Userãƒ¢ãƒ‡ãƒ«æ›´æ–°**
```php
// app/Models/User.php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Foundation\Auth\User as Authenticatable;
use Illuminate\Notifications\Notifiable;

class User extends Authenticatable
{
    use HasFactory, Notifiable;

    protected $fillable = [
        'name',
        'username',
        'email',
        'password',
        'role',
        'department_id',
    ];

    protected $hidden = [
        'password',
        'remember_token',
    ];

    protected function casts(): array
    {
        return [
            'email_verified_at' => 'datetime',
            'password' => 'hashed',
        ];
    }

    // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯1ã¤ã®éƒ¨ç½²ã«å±ã™ã‚‹
    public function department()
    {
        return $this->belongsTo(Department::class);
    }

    // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯è¤‡æ•°ã®æ¨©é™ã‚’æŒã¤
    public function permissions()
    {
        return $this->hasMany(Permission::class);
    }

    // æ¨©é™ãƒã‚§ãƒƒã‚¯ãƒ¡ã‚½ãƒƒãƒ‰
    public function isAdmin()
    {
        return $this->role === 'admin';
    }

    public function canEditSchedules()
    {
        return in_array($this->role, ['admin', 'staff']);
    }
}
```

**3. ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚·ãƒ¼ãƒ€ãƒ¼ä½œæˆ**
```bash
./vendor/bin/sail artisan make:seeder UserSeeder
```

```php
// database/seeders/UserSeeder.php
<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\User;
use App\Models\Department;
use Illuminate\Support\Facades\Hash;

class UserSeeder extends Seeder
{
    public function run(): void
    {
        // ç®¡ç†è€…ãƒ¦ãƒ¼ã‚¶ãƒ¼
        User::create([
            'name' => 'ç®¡ç†è€… å¤ªéƒ',
            'username' => 'admin',
            'email' => 'admin@example.com',
            'password' => Hash::make('password'),
            'role' => 'admin',
            'department_id' => Department::where('department_name', 'äº‹å‹™éƒ¨')->first()->id,
        ]);

        // ä¸€èˆ¬è·å“¡ãƒ¦ãƒ¼ã‚¶ãƒ¼
        $departments = Department::all();
        $staffNames = [
            ['name' => 'çœ‹è­·å¸« èŠ±å­', 'username' => 'nurse01'],
            ['name' => 'ä»‹è­·å£« æ¬¡éƒ', 'username' => 'care01'],
            ['name' => 'ç†å­¦ç™‚æ³•å£« ä¸‰éƒ', 'username' => 'pt01'],
        ];

        foreach ($staffNames as $index => $staff) {
            User::create([
                'name' => $staff['name'],
                'username' => $staff['username'],
                'email' => $staff['username'] . '@example.com',
                'password' => Hash::make('password'),
                'role' => 'staff',
                'department_id' => $departments[$index % $departments->count()]->id,
            ]);
        }
    }
}
```

#### é–‹ç™ºè€…ã®å­¦ã³
å®Ÿéš›ã®é–‹ç™ºã§ã¯ä»¥ä¸‹ã®è©¦è¡ŒéŒ¯èª¤ãŒã‚ã‚Šã¾ã—ãŸï¼š

1. **æœ€åˆ**: emailãƒ™ãƒ¼ã‚¹ã®èªè¨¼
2. **å•é¡Œç™ºè¦‹**: ä»‹è­·æ–½è¨­è·å“¡ã¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒãŸãªã„å ´åˆãŒå¤šã„
3. **è§£æ±º**: usernameãƒ™ãƒ¼ã‚¹ã®èªè¨¼ã«å¤‰æ›´
4. **å­¦ç¿’**: è¦ä»¶å¤‰æ›´æ™‚ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æˆ¦ç•¥ã®é‡è¦æ€§

---

### ğŸ› ï¸ å®Ÿè£…æ‰‹é † 1-3: ä½æ°‘ç®¡ç†æ©Ÿèƒ½

#### æ‰‹é †

**1. ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆ**
```bash
./vendor/bin/sail artisan make:migration create_residents_table
```

```php
// database/migrations/xxxx_create_residents_table.php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('residents', function (Blueprint $table) {
            $table->id();
            $table->string('name', 100)->comment('ä½æ°‘æ°å');
            $table->string('room_number', 20)->nullable()->comment('éƒ¨å±‹ç•ªå·');
            $table->enum('gender', ['male', 'female', 'other'])->nullable()->comment('æ€§åˆ¥');
            $table->date('birth_date')->nullable()->comment('ç”Ÿå¹´æœˆæ—¥');
            $table->text('medical_info')->nullable()->comment('åŒ»ç™‚æƒ…å ±ãƒ»æ³¨æ„äº‹é …');
            $table->foreignId('department_id')->constrained()->comment('æ‰€å±éƒ¨ç½²');
            $table->boolean('is_active')->default(true)->comment('å…¥å±…ä¸­ãƒ•ãƒ©ã‚°');
            $table->timestamps();
            
            // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­å®š
            $table->index('name');
            $table->index('room_number');
            $table->index('is_active');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('residents');
    }
};
```

**2. ãƒ¢ãƒ‡ãƒ«ä½œæˆ**
```php
// app/Models/Resident.php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Carbon\Carbon;

class Resident extends Model
{
    use HasFactory;

    protected $fillable = [
        'name',
        'room_number',
        'gender',
        'birth_date',
        'medical_info',
        'department_id',
        'is_active',
    ];

    protected $casts = [
        'birth_date' => 'date',
        'is_active' => 'boolean',
    ];

    // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
    public function department()
    {
        return $this->belongsTo(Department::class);
    }

    public function schedules()
    {
        return $this->hasMany(Schedule::class);
    }

    // ã‚¢ã‚¯ã‚»ã‚µ: å¹´é½¢è¨ˆç®—
    public function getAgeAttribute()
    {
        return $this->birth_date ? Carbon::parse($this->birth_date)->age : null;
    }

    // ã‚¹ã‚³ãƒ¼ãƒ—: ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªä½æ°‘ã®ã¿
    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }

    // ã‚¹ã‚³ãƒ¼ãƒ—: éƒ¨å±‹ç•ªå·é †
    public function scopeOrderByRoom($query)
    {
        return $query->orderBy('room_number');
    }
}
```

**3. ä½æ°‘ã‚·ãƒ¼ãƒ€ãƒ¼ä½œæˆ**
```php
// database/seeders/ResidentSeeder.php
<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\Resident;
use App\Models\Department;
use Carbon\Carbon;

class ResidentSeeder extends Seeder
{
    public function run(): void
    {
        $caregivers = Department::where('department_name', 'ä»‹è­·éƒ¨')->first();
        
        $residents = [
            [
                'name' => 'ç”°ä¸­ å¤ªéƒ',
                'room_number' => '101',
                'gender' => 'male',
                'birth_date' => Carbon::parse('1935-03-15'),
                'medical_info' => 'ç³–å°¿ç—…ã€é«˜è¡€åœ§ç—‡ã®æ—¢å¾€æ­´ã‚ã‚Šã€‚è¡€ç³–å€¤ç®¡ç†ãŒå¿…è¦ã€‚',
                'department_id' => $caregivers->id,
            ],
            [
                'name' => 'ä½è—¤ èŠ±å­',
                'room_number' => '102',
                'gender' => 'female',
                'birth_date' => Carbon::parse('1940-07-22'),
                'medical_info' => 'èªçŸ¥ç—‡åˆæœŸæ®µéšã€‚è¦‹å®ˆã‚ŠãŒå¿…è¦ã€‚',
                'department_id' => $caregivers->id,
            ],
            [
                'name' => 'å±±ç”° æ¬¡éƒ',
                'room_number' => '103',
                'gender' => 'male',
                'birth_date' => Carbon::parse('1938-11-08'),
                'medical_info' => 'è„³æ¢—å¡ã®æ—¢å¾€æ­´ã€‚å³åŠèº«ã«è»½åº¦ã®éº»ç—ºã‚ã‚Šã€‚',
                'department_id' => $caregivers->id,
            ],
            [
                'name' => 'éˆ´æœ¨ ä¸€éƒ',
                'room_number' => '104',
                'gender' => 'male',
                'birth_date' => Carbon::parse('1942-01-30'),
                'medical_info' => 'ç‰¹è¨˜äº‹é …ãªã—ã€‚è‡ªç«‹åº¦é«˜ã„ã€‚',
                'department_id' => $caregivers->id,
            ],
            [
                'name' => 'é«˜æ©‹ ç¾å­',
                'room_number' => '105',
                'gender' => 'female',
                'birth_date' => Carbon::parse('1936-05-12'),
                'medical_info' => 'ã‚¢ãƒ«ãƒ„ãƒã‚¤ãƒãƒ¼å‹èªçŸ¥ç—‡ã€‚å¾˜å¾Šãƒªã‚¹ã‚¯ã‚ã‚Šã€‚',
                'department_id' => $caregivers->id,
            ],
        ];

        foreach ($residents as $resident) {
            Resident::create($resident);
        }
    }
}
```

---

### ğŸ› ï¸ å®Ÿè£…æ‰‹é † 1-4: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«é–¢é€£æ©Ÿèƒ½

#### 1. ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç¨®åˆ¥ãƒ†ãƒ¼ãƒ–ãƒ«

```bash
./vendor/bin/sail artisan make:migration create_schedule_types_table
```

```php
// database/migrations/xxxx_create_schedule_types_table.php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('schedule_types', function (Blueprint $table) {
            $table->id();
            $table->string('name', 50)->comment('ç¨®åˆ¥å');
            $table->string('color_code', 7)->default('#3B82F6')->comment('è¡¨ç¤ºè‰²ï¼ˆ16é€²æ•°ï¼‰');
            $table->string('description')->nullable()->comment('èª¬æ˜');
            $table->boolean('is_active')->default(true)->comment('æœ‰åŠ¹ãƒ•ãƒ©ã‚°');
            $table->timestamps();
            
            // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
            $table->index('name');
            $table->index('is_active');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('schedule_types');
    }
};
```

```php
// app/Models/ScheduleType.php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;

class ScheduleType extends Model
{
    use HasFactory;

    protected $fillable = [
        'name',
        'color_code',
        'description',
        'is_active',
    ];

    protected $casts = [
        'is_active' => 'boolean',
    ];

    public function schedules()
    {
        return $this->hasMany(Schedule::class);
    }

    public function scopeActive($query)
    {
        return $query->where('is_active', true);
    }
}
```

```php
// database/seeders/ScheduleTypeSeeder.php
<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\Models\ScheduleType;

class ScheduleTypeSeeder extends Seeder
{
    public function run(): void
    {
        $scheduleTypes = [
            [
                'name' => 'å…¥æµ´',
                'color_code' => '#3B82F6',
                'description' => 'ä½æ°‘ã®å…¥æµ´ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«',
            ],
            [
                'name' => 'åŒ»ç™‚è¡Œç‚º',
                'color_code' => '#EF4444',
                'description' => 'åŒ»å¸«ã«ã‚ˆã‚‹è¨ºå¯Ÿãƒ»æ²»ç™‚',
            ],
            [
                'name' => 'ãƒªãƒãƒ“ãƒª',
                'color_code' => '#10B981',
                'description' => 'ç†å­¦ç™‚æ³•ãƒ»ä½œæ¥­ç™‚æ³•',
            ],
            [
                'name' => 'ãƒ¬ã‚¯ãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³',
                'color_code' => '#F59E0B',
                'description' => 'é›†å›£æ´»å‹•ãƒ»å¨¯æ¥½',
            ],
            [
                'name' => 'é¢ä¼š',
                'color_code' => '#8B5CF6',
                'description' => 'å®¶æ—ãƒ»å‹äººã¨ã®é¢ä¼š',
            ],
        ];

        foreach ($scheduleTypes as $type) {
            ScheduleType::create($type);
        }
    }
}
```

#### 2. ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼æ—¥ä»˜ãƒ†ãƒ¼ãƒ–ãƒ«

```bash
./vendor/bin/sail artisan make:migration create_calendar_dates_table
```

```php
// database/migrations/xxxx_create_calendar_dates_table.php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('calendar_dates', function (Blueprint $table) {
            $table->id();
            $table->date('calendar_date')->unique()->comment('æ—¥ä»˜');
            $table->string('day_of_week', 10)->comment('æ›œæ—¥');
            $table->boolean('is_holiday')->default(false)->comment('ç¥æ—¥ãƒ•ãƒ©ã‚°');
            $table->string('holiday_name')->nullable()->comment('ç¥æ—¥å');
            $table->boolean('is_weekend')->default(false)->comment('é€±æœ«ãƒ•ãƒ©ã‚°');
            $table->timestamps();
            
            // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
            $table->index('calendar_date');
            $table->index('is_holiday');
            $table->index('is_weekend');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('calendar_dates');
    }
};
```

#### 3. ãƒ¡ã‚¤ãƒ³ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«

```bash
./vendor/bin/sail artisan make:migration create_schedules_table
```

```php
// database/migrations/xxxx_create_schedules_table.php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('schedules', function (Blueprint $table) {
            $table->id();
            $table->string('title', 200)->comment('ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚¿ã‚¤ãƒˆãƒ«');
            $table->text('description')->nullable()->comment('è©³ç´°èª¬æ˜');
            $table->date('date')->comment('å®Ÿæ–½æ—¥');
            $table->time('start_time')->nullable()->comment('é–‹å§‹æ™‚åˆ»');
            $table->time('end_time')->nullable()->comment('çµ‚äº†æ™‚åˆ»');
            $table->boolean('all_day')->default(false)->comment('çµ‚æ—¥ãƒ•ãƒ©ã‚°');
            $table->foreignId('schedule_type_id')->constrained()->comment('ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç¨®åˆ¥');
            $table->foreignId('resident_id')->nullable()->constrained()->comment('å¯¾è±¡ä½æ°‘');
            $table->foreignId('created_by')->constrained('users')->comment('ä½œæˆè€…');
            $table->timestamps();
            
            // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
            $table->index('date');
            $table->index(['date', 'schedule_type_id']);
            $table->index(['resident_id', 'date']);
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('schedules');
    }
};
```

```php
// app/Models/Schedule.php
<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Factories\HasFactory;
use Illuminate\Database\Eloquent\Model;
use Carbon\Carbon;

class Schedule extends Model
{
    use HasFactory;

    protected $fillable = [
        'title',
        'description',
        'date',
        'start_time',
        'end_time',
        'all_day',
        'schedule_type_id',
        'resident_id',
        'created_by',
    ];

    protected $casts = [
        'date' => 'date',
        'start_time' => 'datetime:H:i',
        'end_time' => 'datetime:H:i',
        'all_day' => 'boolean',
    ];

    // ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
    public function scheduleType()
    {
        return $this->belongsTo(ScheduleType::class);
    }

    public function resident()
    {
        return $this->belongsTo(Resident::class);
    }

    public function creator()
    {
        return $this->belongsTo(User::class, 'created_by');
    }

    // ã‚¹ã‚³ãƒ¼ãƒ—
    public function scopeByDate($query, $date)
    {
        return $query->where('date', $date);
    }

    public function scopeByDateRange($query, $startDate, $endDate)
    {
        return $query->whereBetween('date', [$startDate, $endDate]);
    }

    public function scopeByType($query, $typeId)
    {
        return $query->where('schedule_type_id', $typeId);
    }

    // ã‚¢ã‚¯ã‚»ã‚µ
    public function getFormattedTimeAttribute()
    {
        if ($this->all_day) {
            return 'çµ‚æ—¥';
        }
        
        if ($this->start_time && $this->end_time) {
            return $this->start_time->format('H:i') . ' - ' . $this->end_time->format('H:i');
        }
        
        return $this->start_time?->format('H:i') ?: 'æ™‚åˆ»æœªè¨­å®š';
    }
}
```

---

### ğŸ› ï¸ å®Ÿè£…æ‰‹é † 1-5: æ¨©é™ç®¡ç†æ©Ÿèƒ½

```bash
./vendor/bin/sail artisan make:migration create_permissions_table
```

```php
// database/migrations/xxxx_create_permissions_table.php
<?php

use Illuminate\Database\Migrations\Migration;
use Illuminate\Database\Schema\Blueprint;
use Illuminate\Support\Facades\Schema;

return new class extends Migration
{
    public function up(): void
    {
        Schema::create('permissions', function (Blueprint $table) {
            $table->id();
            $table->foreignId('user_id')->constrained()->onDelete('cascade')->comment('ãƒ¦ãƒ¼ã‚¶ãƒ¼ID');
            $table->boolean('can_edit_schedules')->default(false)->comment('ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç·¨é›†æ¨©é™');
            $table->boolean('can_manage_residents')->default(false)->comment('ä½æ°‘ç®¡ç†æ¨©é™');
            $table->boolean('can_view_reports')->default(false)->comment('ãƒ¬ãƒãƒ¼ãƒˆé–²è¦§æ¨©é™');
            $table->timestamps();
            
            // ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
            $table->index('user_id');
            $table->index('can_edit_schedules');
        });
    }

    public function down(): void
    {
        Schema::dropIfExists('permissions');
    }
};
```

---

### ğŸ› ï¸ å®Ÿè¡Œã¨ãƒ†ã‚¹ãƒˆ

```bash
# å…¨ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè¡Œ
./vendor/bin/sail artisan migrate

# å…¨ã‚·ãƒ¼ãƒ€ãƒ¼å®Ÿè¡Œ
./vendor/bin/sail artisan db:seed

# æˆ–ã„ã¯å€‹åˆ¥ã«å®Ÿè¡Œ
./vendor/bin/sail artisan db:seed --class=DepartmentSeeder
./vendor/bin/sail artisan db:seed --class=UserSeeder
./vendor/bin/sail artisan db:seed --class=ResidentSeeder
./vendor/bin/sail artisan db:seed --class=ScheduleTypeSeeder
```

### å‹•ä½œç¢ºèª
```bash
./vendor/bin/sail artisan tinker

# ãƒ‡ãƒ¼ã‚¿ç¢ºèª
>> Department::with('users', 'residents')->get()
>> User::with('department')->get()
>> Resident::with('department')->get()
>> ScheduleType::all()

# ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ç¢ºèª
>> $dept = Department::first()
>> $dept->users
>> $dept->residents
```

---

### Phase 1 å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] å…¨ãƒ†ãƒ¼ãƒ–ãƒ«ãŒæ­£å¸¸ã«ä½œæˆã•ã‚ŒãŸ
- [ ] ã‚·ãƒ¼ãƒ€ãƒ¼ã§åˆæœŸãƒ‡ãƒ¼ã‚¿ãŒæŠ•å…¥ã•ã‚ŒãŸ
- [ ] ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£ã—ãå‹•ä½œã™ã‚‹
- [ ] å„ãƒ¢ãƒ‡ãƒ«ã§CRUDæ“ä½œãŒã§ãã‚‹
- [ ] Tinkerã§ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ãƒ»æ“ä½œãŒã§ãã‚‹

### æ¬¡ã®æ®µéšã¸ã®æº–å‚™

Phase 1ã§æ§‹ç¯‰ã—ãŸãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åŸºç›¤ã‚’å…ƒã«ã€Phase 2ã§ã¯èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã—ã€å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦å‹•ä½œã•ã›ã¦ã„ãã¾ã™ã€‚

**å­¦ç¿’ã®æŒ¯ã‚Šè¿”ã‚Š**:
- ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­è¨ˆæ€æƒ³
- ãƒ¢ãƒ‡ãƒ«ãƒªãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã®è¨­å®šæ–¹æ³•
- ã‚·ãƒ¼ãƒ€ãƒ¼ã«ã‚ˆã‚‹ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ä½œæˆ
- å®Ÿéš›ã®é–‹ç™ºã§ã®è©¦è¡ŒéŒ¯èª¤ãƒ—ãƒ­ã‚»ã‚¹

---

## Phase 2: èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼ˆPR #2ç›¸å½“ï¼‰

### ã“ã®æ®µéšã®ç›®æ¨™
- **Laravel Breezeãƒ™ãƒ¼ã‚¹ã®èªè¨¼ã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºã™ã‚‹**
- **ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ™ãƒ¼ã‚¹èªè¨¼ã¸ã®å¤‰æ›´æ–¹æ³•ã‚’å­¦ã¶**
- **æ—¥æœ¬èªåŒ–ã®å®Ÿè£…æ‰‹æ³•ã‚’èº«ã«ã¤ã‘ã‚‹**
- **æ¨©é™ãƒ™ãƒ¼ã‚¹ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡ã‚’ç†è§£ã™ã‚‹**

### å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½
1. ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆusernameï¼‰ãƒ™ãƒ¼ã‚¹èªè¨¼
2. æ—¥æœ¬èªåŒ–å¯¾å¿œ
3. è·å“¡å‘ã‘ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢
4. æ¨©é™ãƒ™ãƒ¼ã‚¹ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡

### å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ
- **èªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ‰‹æ³•**
- **Laravel ã®è¨€èªè¨­å®šãƒ»ç¿»è¨³æ©Ÿèƒ½**
- **Middleware ã«ã‚ˆã‚‹ã‚¢ã‚¯ã‚»ã‚¹åˆ¶å¾¡**
- **React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**

### å®Ÿéš›ã®é–‹ç™ºã§ã®å­¦ã³
ã“ã®æ®µéšã§é–‹ç™ºè€…ãŒç›´é¢ã—ãŸèª²é¡Œï¼š
- ä»‹è­·æ–½è¨­è·å“¡ã¯ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒãŸãªã„å ´åˆãŒå¤šã„
- æ—¢å­˜ã®Breezeã¯emailå‰æã®è¨­è¨ˆ
- æ—¥æœ¬èªç’°å¢ƒã§ã®ä½¿ã„ã‚„ã™ã•ãŒå¿…è¦

---

### ğŸ› ï¸ å®Ÿè£…æ‰‹é † 2-1: èªè¨¼ãƒ­ã‚¸ãƒƒã‚¯ã®å¤‰æ›´

#### 1. èªè¨¼è¨­å®šã®å¤‰æ›´

```php
// config/auth.php
<?php

return [
    'defaults' => [
        'guard' => 'web',
        'passwords' => 'users',
    ],

    'guards' => [
        'web' => [
            'driver' => 'session',
            'provider' => 'users',
        ],
    ],

    'providers' => [
        'users' => [
            'driver' => 'eloquent',
            'model' => App\Models\User::class,
        ],
    ],

    'passwords' => [
        'users' => [
            'provider' => 'users',
            'table' => 'password_reset_tokens',
            'expire' => 60,
            'throttle' => 60,
        ],
    ],

    'password_timeout' => 10800,
];
```

#### 2. Userãƒ¢ãƒ‡ãƒ«ã®èªè¨¼ãƒ¡ã‚½ãƒƒãƒ‰å¤‰æ›´

```php
// app/Models/User.php (è¿½åŠ éƒ¨åˆ†)
<?php

namespace App\Models;

use Illuminate\Foundation\Auth\User as Authenticatable;
// ... other imports

class User extends Authenticatable
{
    // ... existing code

    /**
     * èªè¨¼ã«ä½¿ç”¨ã™ã‚‹ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’usernameã«å¤‰æ›´
     */
    public function getAuthIdentifierName()
    {
        return 'username';
    }

    /**
     * ãƒ¦ãƒ¼ã‚¶ãƒ¼åã§ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’æ¤œç´¢
     */
    public function findForPassport($username)
    {
        return $this->where('username', $username)->first();
    }
}
```

#### 3. èªè¨¼ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å¤‰æ›´

```php
// app/Http/Requests/Auth/LoginRequest.php
<?php

namespace App\Http\Requests\Auth;

use Illuminate\Auth\Events\Lockout;
use Illuminate\Foundation\Http\FormRequest;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\RateLimiter;
use Illuminate\Support\Str;
use Illuminate\Validation\ValidationException;

class LoginRequest extends FormRequest
{
    public function authorize(): bool
    {
        return true;
    }

    public function rules(): array
    {
        return [
            'username' => ['required', 'string'],
            'password' => ['required', 'string'],
        ];
    }

    public function authenticate(): void
    {
        $this->ensureIsNotRateLimited();

        if (! Auth::attempt($this->only('username', 'password'), $this->boolean('remember'))) {
            RateLimiter::hit($this->throttleKey());

            throw ValidationException::withMessages([
                'username' => trans('auth.failed'),
            ]);
        }

        RateLimiter::clear($this->throttleKey());
    }

    public function ensureIsNotRateLimited(): void
    {
        if (! RateLimiter::tooManyAttempts($this->throttleKey(), 5)) {
            return;
        }

        event(new Lockout($this));

        $seconds = RateLimiter::availableIn($this->throttleKey());

        throw ValidationException::withMessages([
            'username' => trans('auth.throttle', [
                'seconds' => $seconds,
                'minutes' => ceil($seconds / 60),
            ]),
        ]);
    }

    public function throttleKey(): string
    {
        return Str::transliterate(Str::lower($this->input('username')).'|'.$this->ip());
    }
}
```

#### 4. ç™»éŒ²ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å¤‰æ›´

```php
// app/Http/Requests/Auth/RegisterRequest.php (æ–°è¦ä½œæˆ)
<?php

namespace App\Http\Requests\Auth;

use App\Models\User;
use Illuminate\Foundation\Http\FormRequest;
use Illuminate\Validation\Rules;

class RegisterRequest extends FormRequest
{
    public function authorize(): bool
    {
        return true;
    }

    public function rules(): array
    {
        return [
            'name' => ['required', 'string', 'max:255'],
            'username' => ['required', 'string', 'max:50', 'unique:'.User::class],
            'email' => ['nullable', 'string', 'email', 'max:255', 'unique:'.User::class],
            'password' => ['required', 'confirmed', Rules\Password::defaults()],
            'department_id' => ['required', 'exists:departments,id'],
        ];
    }

    public function attributes(): array
    {
        return [
            'name' => 'æ°å',
            'username' => 'ãƒ­ã‚°ã‚¤ãƒ³ID',
            'email' => 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹',
            'password' => 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰',
            'department_id' => 'æ‰€å±éƒ¨ç½²',
        ];
    }
}
```

---

### ğŸ› ï¸ å®Ÿè£…æ‰‹é † 2-2: æ—¥æœ¬èªåŒ–å¯¾å¿œ

#### 1. è¨€èªè¨­å®šã®å¤‰æ›´

```php
// config/app.php
<?php

return [
    // ... other config

    'locale' => 'ja',
    'fallback_locale' => 'en',
    'faker_locale' => 'ja_JP',
    'timezone' => 'Asia/Tokyo',

    // ... rest of config
];
```

#### 2. æ—¥æœ¬èªç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ

```php
// lang/ja/auth.php
<?php

return [
    'failed' => 'ãƒ­ã‚°ã‚¤ãƒ³IDã¾ãŸã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚',
    'password' => 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚',
    'throttle' => 'ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œå›æ•°ãŒå¤šã™ãã¾ã™ã€‚:secondsç§’å¾Œã«å†è©¦è¡Œã—ã¦ãã ã•ã„ã€‚',
];
```

```php
// lang/ja/validation.php
<?php

return [
    'accepted' => ':attributeã‚’æ‰¿èªã—ã¦ãã ã•ã„ã€‚',
    'accepted_if' => ':otherãŒ:valueã®å ´åˆã€:attributeã‚’æ‰¿èªã—ã¦ãã ã•ã„ã€‚',
    'active_url' => ':attributeã¯æœ‰åŠ¹ãªURLã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚',
    'after' => ':attributeã«ã¯ã€:dateã‚ˆã‚Šå¾Œã®æ—¥ä»˜ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'after_or_equal' => ':attributeã«ã¯ã€:dateä»¥é™ã®æ—¥ä»˜ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'alpha' => ':attributeã¯ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã®ã¿ãŒã”åˆ©ç”¨ã§ãã¾ã™ã€‚',
    'alpha_dash' => ':attributeã¯ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã¨ãƒ€ãƒƒã‚·ãƒ¥(-)åŠã³ä¸‹ç·š(_)ãŒã”åˆ©ç”¨ã§ãã¾ã™ã€‚',
    'alpha_num' => ':attributeã¯ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆæ•°å­—ãŒã”åˆ©ç”¨ã§ãã¾ã™ã€‚',
    'array' => ':attributeã¯é…åˆ—ã§ãªãã¦ã¯ãªã‚Šã¾ã›ã‚“ã€‚',
    'ascii' => ':attributeã¯åŠè§’è‹±æ•°å­—åŠã³è¨˜å·ã®ã¿ä½¿ç”¨ã§ãã¾ã™ã€‚',
    'before' => ':attributeã«ã¯ã€:dateã‚ˆã‚Šå‰ã®æ—¥ä»˜ã‚’ã”åˆ©ç”¨ãã ã•ã„ã€‚',
    'before_or_equal' => ':attributeã«ã¯ã€:dateä»¥å‰ã®æ—¥ä»˜ã‚’ã”åˆ©ç”¨ãã ã•ã„ã€‚',
    'between' => [
        'array' => ':attributeã¯:minå€‹ã‹ã‚‰:maxå€‹ã®é–“ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'file' => ':attributeã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€:minKBã‹ã‚‰:maxKBã®é–“ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'numeric' => ':attributeã¯:minã‹ã‚‰:maxã®é–“ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'string' => ':attributeã¯:minæ–‡å­—ã‹ã‚‰:maxæ–‡å­—ã®é–“ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    ],
    'boolean' => ':attributeã¯trueã‹falseã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'can' => ':attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«èªå¯ã•ã‚Œã¦ã„ãªã„å€¤ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ã€‚',
    'confirmed' => ':attributeã¨ç¢ºèªãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¨ãŒã€ä¸€è‡´ã—ã¦ã„ã¾ã›ã‚“ã€‚',
    'current_password' => 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚',
    'date' => ':attributeã«ã¯æœ‰åŠ¹ãªæ—¥ä»˜ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'date_equals' => ':attributeã«ã¯ã€:dateã¨åŒã˜æ—¥ä»˜ã‘ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'date_format' => ':attributeã¯:formatå½¢å¼ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'decimal' => ':attributeã¯:decimalæ¡ã®å°æ•°ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'declined' => ':attributeã¯æ‹’å¦ã—ã¦ãã ã•ã„ã€‚',
    'declined_if' => ':otherãŒ:valueã®å ´åˆã€:attributeã¯æ‹’å¦ã—ã¦ãã ã•ã„ã€‚',
    'different' => ':attributeã¨:otherã«ã¯ã€ç•°ãªã£ãŸå†…å®¹ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'digits' => ':attributeã¯:digitsæ¡ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'digits_between' => ':attributeã¯:minæ¡ã‹ã‚‰:maxæ¡ã®é–“ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'dimensions' => ':attributeã®å›³å½¢ã‚µã‚¤ã‚ºãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚',
    'distinct' => ':attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«é‡è¤‡ã—ãŸå€¤ãŒã‚ã‚Šã¾ã™ã€‚',
    'doesnt_end_with' => ':attributeã«ã¯ã€:valuesã®ã©ã‚Œã‹ã§çµ‚ã‚ã‚‰ãªã„å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'doesnt_start_with' => ':attributeã«ã¯ã€:valuesã®ã©ã‚Œã‹ã§å§‹ã¾ã‚‰ãªã„å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'email' => ':attributeã«ã¯ã€æœ‰åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'ends_with' => ':attributeã«ã¯ã€:valuesã®ã©ã‚Œã‹ã§çµ‚ã‚ã‚‹å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'enum' => 'é¸æŠã•ã‚ŒãŸ:attributeã¯æ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚',
    'exists' => 'é¸æŠã•ã‚ŒãŸ:attributeã¯æ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚',
    'extensions' => ':attributeã«ã¯:extensionsã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'file' => ':attributeã«ã¯ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'filled' => ':attributeã«å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'gt' => [
        'array' => ':attributeã«ã¯:valueå€‹ã‚ˆã‚Šå¤šãã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'file' => ':attributeã«ã¯:valueKBã‚ˆã‚Šå¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'numeric' => ':attributeã«ã¯:valueã‚ˆã‚Šå¤§ããªå€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'string' => ':attributeã¯:valueæ–‡å­—ã‚ˆã‚Šé•·ãæŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    ],
    'gte' => [
        'array' => ':attributeã«ã¯:valueå€‹ä»¥ä¸Šã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'file' => ':attributeã«ã¯:valueKBä»¥ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'numeric' => ':attributeã«ã¯:valueä»¥ä¸Šã®å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'string' => ':attributeã¯:valueæ–‡å­—ä»¥ä¸Šã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    ],
    'hex_color' => ':attributeã«ã¯æœ‰åŠ¹ãª16é€²æ•°ã‚«ãƒ©ãƒ¼ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'image' => ':attributeã«ã¯ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'in' => 'é¸æŠã•ã‚ŒãŸ:attributeã¯æ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚',
    'in_array' => ':attributeã«ã¯:otherã®å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'integer' => ':attributeã¯æ•´æ•°ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'ip' => ':attributeã«ã¯ã€æœ‰åŠ¹ãªIPã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'ipv4' => ':attributeã«ã¯ã€æœ‰åŠ¹ãªIPv4ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'ipv6' => ':attributeã«ã¯ã€æœ‰åŠ¹ãªIPv6ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'json' => ':attributeã«ã¯ã€æœ‰åŠ¹ãªJSONæ–‡å­—åˆ—ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'list' => ':attributeã¯ãƒªã‚¹ãƒˆã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚',
    'lowercase' => ':attributeã¯å°æ–‡å­—ã«ã—ã¦ãã ã•ã„ã€‚',
    'lt' => [
        'array' => ':attributeã¯:valueå€‹æœªæº€ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'file' => ':attributeã«ã¯:valueKBæœªæº€ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'numeric' => ':attributeã«ã¯:valueæœªæº€ã®å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'string' => ':attributeã¯:valueæ–‡å­—æœªæº€ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    ],
    'lte' => [
        'array' => ':attributeã¯:valueå€‹ä»¥ä¸‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'file' => ':attributeã«ã¯:valueKBä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'numeric' => ':attributeã«ã¯:valueä»¥ä¸‹ã®å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'string' => ':attributeã¯:valueæ–‡å­—ä»¥ä¸‹ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    ],
    'mac_address' => ':attributeã¯æœ‰åŠ¹ãªMACã‚¢ãƒ‰ãƒ¬ã‚¹ã§ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚',
    'max' => [
        'array' => ':attributeã¯:maxå€‹ä»¥ä¸‹ã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'file' => ':attributeã«ã¯ã€:maxKBä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'numeric' => ':attributeã«ã¯ã€:maxä»¥ä¸‹ã®æ•°å­—ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'string' => ':attributeã¯ã€:maxæ–‡å­—ä»¥ä¸‹ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    ],
    'max_digits' => ':attributeã¯:maxæ¡ä»¥ä¸‹ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'mimes' => ':attributeã«ã¯:valuesã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'mimetypes' => ':attributeã«ã¯:valuesã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'min' => [
        'array' => ':attributeã¯:minå€‹ä»¥ä¸Šã®ã‚¢ã‚¤ãƒ†ãƒ ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'file' => ':attributeã«ã¯ã€:minKBä»¥ä¸Šã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'numeric' => ':attributeã«ã¯ã€:minä»¥ä¸Šã®æ•°å­—ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'string' => ':attributeã¯ã€:minæ–‡å­—ä»¥ä¸Šã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    ],
    'min_digits' => ':attributeã¯:minæ¡ä»¥ä¸Šã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'missing' => ':attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å­˜åœ¨ã—ãªã„å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'missing_if' => ':otherãŒ:valueã®å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å­˜åœ¨ã—ãªã„å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'missing_unless' => ':otherãŒ:valueã§ãªã„å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å­˜åœ¨ã—ãªã„å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'missing_with' => ':valuesãŒå­˜åœ¨ã™ã‚‹å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å­˜åœ¨ã—ãªã„å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'missing_with_all' => ':valuesãŒå­˜åœ¨ã™ã‚‹å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯å­˜åœ¨ã—ãªã„å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'multiple_of' => ':attributeã«ã¯ã€:valueã®å€æ•°ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'not_in' => 'é¸æŠã•ã‚ŒãŸ:attributeã¯æ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚',
    'not_regex' => ':attributeã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚',
    'numeric' => ':attributeã«ã¯ã€æ•°å­—ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'password' => [
        'letters' => ':attributeã¯æœ€ä½1ã¤ã®æ–‡å­—ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
        'mixed' => ':attributeã¯æœ€ä½1ã¤ã®å¤§æ–‡å­—ã¨å°æ–‡å­—ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
        'numbers' => ':attributeã¯æœ€ä½1ã¤ã®æ•°å­—ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
        'symbols' => ':attributeã¯æœ€ä½1ã¤ã®è¨˜å·ã‚’å«ã‚€å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
        'uncompromised' => 'æŒ‡å®šã•ã‚ŒãŸ:attributeã¯ãƒ‡ãƒ¼ã‚¿ãƒªãƒ¼ã‚¯ã«å«ã¾ã‚Œã¦ã„ã¾ã™ã€‚åˆ¥ã®:attributeã‚’é¸æŠã—ã¦ãã ã•ã„ã€‚',
    ],
    'present' => ':attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå­˜åœ¨ã—ã¦ã„ã¾ã›ã‚“ã€‚',
    'present_if' => ':otherãŒ:valueã®å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå­˜åœ¨ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'present_unless' => ':otherãŒ:valueã§ãªã„å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå­˜åœ¨ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'present_with' => ':valuesãŒå­˜åœ¨ã™ã‚‹å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå­˜åœ¨ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'present_with_all' => ':valuesãŒå­˜åœ¨ã™ã‚‹å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå­˜åœ¨ã—ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'prohibited' => ':attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚',
    'prohibited_if' => ':otherãŒ:valueã®å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚',
    'prohibited_unless' => ':otherãŒ:valuesã§ãªã„å ´åˆã€:attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ç¦æ­¢ã•ã‚Œã¦ã„ã¾ã™ã€‚',
    'prohibits' => ':attributeãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯:otherã®å­˜åœ¨ã‚’ç¦ã˜ã¦ã„ã¾ã™ã€‚',
    'regex' => ':attributeã«æ­£ã—ã„å½¢å¼ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'required' => ':attributeã¯å¿…ãšæŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'required_array_keys' => ':attributeã«ã¯:valuesã®ã‚¨ãƒ³ãƒˆãƒªã‚’å«ã‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚',
    'required_if' => ':otherãŒ:valueã®å ´åˆã€:attributeã‚‚æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'required_if_accepted' => ':otherãŒå—ã‘å…¥ã‚Œã‚‰ã‚ŒãŸå ´åˆã€:attributeã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'required_if_declined' => ':otherãŒæ‹’å¦ã•ã‚ŒãŸå ´åˆã€:attributeã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'required_unless' => ':otherãŒ:valuesã§ãªã„å ´åˆã€:attributeã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'required_with' => ':valuesã‚’æŒ‡å®šã™ã‚‹å ´åˆã¯ã€:attributeã‚‚æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'required_with_all' => ':valuesã‚’æŒ‡å®šã™ã‚‹å ´åˆã¯ã€:attributeã‚‚æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'required_without' => ':valuesã‚’æŒ‡å®šã—ãªã„å ´åˆã¯ã€:attributeã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'required_without_all' => ':valuesã®ã©ã‚Œã‚‚æŒ‡å®šã—ãªã„å ´åˆã¯ã€:attributeã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'same' => ':attributeã¨:otherã«ã¯åŒã˜å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'size' => [
        'array' => ':attributeã¯:sizeå€‹æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'file' => ':attributeã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€:sizeKBã«ã—ã¦ãã ã•ã„ã€‚',
        'numeric' => ':attributeã¯:sizeã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
        'string' => ':attributeã¯:sizeæ–‡å­—ã§æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    ],
    'starts_with' => ':attributeã«ã¯ã€:valuesã®ã©ã‚Œã‹ã§å§‹ã¾ã‚‹å€¤ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'string' => ':attributeã¯æ–‡å­—åˆ—ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'timezone' => ':attributeã«ã¯ã€æœ‰åŠ¹ãªã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'unique' => ':attributeã®å€¤ã¯æ—¢ã«å­˜åœ¨ã—ã¦ã„ã¾ã™ã€‚',
    'uploaded' => ':attributeã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã«å¤±æ•—ã—ã¾ã—ãŸã€‚',
    'uppercase' => ':attributeã¯å¤§æ–‡å­—ã«ã—ã¦ãã ã•ã„ã€‚',
    'url' => ':attributeã¯æœ‰åŠ¹ãªURLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'ulid' => ':attributeã¯æœ‰åŠ¹ãªULIDã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',
    'uuid' => ':attributeã¯æœ‰åŠ¹ãªUUIDã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚',

    'custom' => [
        'attribute-name' => [
            'rule-name' => 'custom-message',
        ],
    ],

    'attributes' => [
        'name' => 'æ°å',
        'username' => 'ãƒ­ã‚°ã‚¤ãƒ³ID',
        'email' => 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹',
        'password' => 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰',
        'password_confirmation' => 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç¢ºèªï¼‰',
        'department_id' => 'æ‰€å±éƒ¨ç½²',
        'role' => 'æ¨©é™',
        'room_number' => 'éƒ¨å±‹ç•ªå·',
        'gender' => 'æ€§åˆ¥',
        'birth_date' => 'ç”Ÿå¹´æœˆæ—¥',
        'medical_info' => 'åŒ»ç™‚æƒ…å ±',
        'title' => 'ã‚¿ã‚¤ãƒˆãƒ«',
        'description' => 'èª¬æ˜',
        'date' => 'æ—¥ä»˜',
        'start_time' => 'é–‹å§‹æ™‚åˆ»',
        'end_time' => 'çµ‚äº†æ™‚åˆ»',
        'schedule_type_id' => 'ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ç¨®åˆ¥',
        'resident_id' => 'å¯¾è±¡ä½æ°‘',
    ],
];
```

---

### ğŸ› ï¸ å®Ÿè£…æ‰‹é † 2-3: React ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

#### 1. ãƒ­ã‚°ã‚¤ãƒ³ãƒ•ã‚©ãƒ¼ãƒ ã®å¤‰æ›´

```jsx
// resources/js/Pages/Auth/Login.jsx
import { useEffect } from 'react';
import Checkbox from '@/Components/Checkbox';
import GuestLayout from '@/Layouts/GuestLayout';
import InputError from '@/Components/InputError';
import InputLabel from '@/Components/InputLabel';
import PrimaryButton from '@/Components/PrimaryButton';
import TextInput from '@/Components/TextInput';
import { Head, Link, useForm } from '@inertiajs/react';

export default function Login({ status, canResetPassword }) {
    const { data, setData, post, processing, errors, reset } = useForm({
        username: '',
        password: '',
        remember: false,
    });

    useEffect(() => {
        return () => {
            reset('password');
        };
    }, []);

    const submit = (e) => {
        e.preventDefault();
        post(route('login'));
    };

    return (
        <GuestLayout>
            <Head title="ãƒ­ã‚°ã‚¤ãƒ³" />

            {status && <div className="mb-4 font-medium text-sm text-green-600">{status}</div>}

            <div className="mb-6 text-center">
                <h1 className="text-2xl font-bold text-gray-900">ä»‹è­·æ–½è¨­ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚·ã‚¹ãƒ†ãƒ </h1>
                <p className="text-gray-600 mt-2">ãƒ­ã‚°ã‚¤ãƒ³IDã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</p>
            </div>

            <form onSubmit={submit}>
                <div>
                    <InputLabel htmlFor="username" value="ãƒ­ã‚°ã‚¤ãƒ³ID" />

                    <TextInput
                        id="username"
                        type="text"
                        name="username"
                        value={data.username}
                        className="mt-1 block w-full"
                        autoComplete="username"
                        isFocused={true}
                        onChange={(e) => setData('username', e.target.value)}
                        onKeyDown={(e) => {
                            if (e.key === 'Enter') {
                                e.preventDefault();
                                document.getElementById('password').focus();
                            }
                        }}
                    />

                    <InputError message={errors.username} className="mt-2" />
                </div>

                <div className="mt-4">
                    <InputLabel htmlFor="password" value="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" />

                    <TextInput
                        id="password"
                        type="password"
                        name="password"
                        value={data.password}
                        className="mt-1 block w-full"
                        autoComplete="current-password"
                        onChange={(e) => setData('password', e.target.value)}
                    />

                    <InputError message={errors.password} className="mt-2" />
                </div>

                <div className="block mt-4">
                    <label className="flex items-center">
                        <Checkbox
                            name="remember"
                            checked={data.remember}
                            onChange={(e) => setData('remember', e.target.checked)}
                        />
                        <span className="ms-2 text-sm text-gray-600">ãƒ­ã‚°ã‚¤ãƒ³çŠ¶æ…‹ã‚’ä¿æŒã™ã‚‹</span>
                    </label>
                </div>

                <div className="flex items-center justify-end mt-4">
                    {canResetPassword && (
                        <Link
                            href={route('password.request')}
                            className="underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                        >
                            ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¿˜ã‚ŒãŸå ´åˆ
                        </Link>
                    )}

                    <PrimaryButton className="ms-4" disabled={processing}>
                        ãƒ­ã‚°ã‚¤ãƒ³
                    </PrimaryButton>
                </div>
            </form>
        </GuestLayout>
    );
}
```

#### 2. ç™»éŒ²ãƒ•ã‚©ãƒ¼ãƒ ã®å¤‰æ›´

```jsx
// resources/js/Pages/Auth/Register.jsx
import { useEffect } from 'react';
import GuestLayout from '@/Layouts/GuestLayout';
import InputError from '@/Components/InputError';
import InputLabel from '@/Components/InputLabel';
import PrimaryButton from '@/Components/PrimaryButton';
import TextInput from '@/Components/TextInput';
import SelectInput from '@/Components/SelectInput';
import { Head, Link, useForm } from '@inertiajs/react';

export default function Register({ departments }) {
    const { data, setData, post, processing, errors, reset } = useForm({
        name: '',
        username: '',
        email: '',
        password: '',
        password_confirmation: '',
        department_id: '',
    });

    useEffect(() => {
        return () => {
            reset('password', 'password_confirmation');
        };
    }, []);

    const submit = (e) => {
        e.preventDefault();
        post(route('register'));
    };

    return (
        <GuestLayout>
            <Head title="è·å“¡ç™»éŒ²" />

            <div className="mb-6 text-center">
                <h1 className="text-2xl font-bold text-gray-900">æ–°è¦è·å“¡ç™»éŒ²</h1>
                <p className="text-gray-600 mt-2">è·å“¡æƒ…å ±ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„</p>
            </div>

            <form onSubmit={submit}>
                <div>
                    <InputLabel htmlFor="name" value="æ°å" />

                    <TextInput
                        id="name"
                        name="name"
                        value={data.name}
                        className="mt-1 block w-full"
                        autoComplete="name"
                        isFocused={true}
                        onChange={(e) => setData('name', e.target.value)}
                        required
                    />

                    <InputError message={errors.name} className="mt-2" />
                </div>

                <div className="mt-4">
                    <InputLabel htmlFor="username" value="ãƒ­ã‚°ã‚¤ãƒ³ID" />

                    <TextInput
                        id="username"
                        name="username"
                        value={data.username}
                        className="mt-1 block w-full"
                        autoComplete="username"
                        onChange={(e) => setData('username', e.target.value)}
                        required
                    />

                    <InputError message={errors.username} className="mt-2" />
                    <p className="text-xs text-gray-500 mt-1">
                        ãƒ­ã‚°ã‚¤ãƒ³æ™‚ã«ä½¿ç”¨ã™ã‚‹IDã§ã™ã€‚åŠè§’è‹±æ•°å­—ã§è¨­å®šã—ã¦ãã ã•ã„ã€‚
                    </p>
                </div>

                <div className="mt-4">
                    <InputLabel htmlFor="email" value="ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä»»æ„ï¼‰" />

                    <TextInput
                        id="email"
                        type="email"
                        name="email"
                        value={data.email}
                        className="mt-1 block w-full"
                        autoComplete="email"
                        onChange={(e) => setData('email', e.target.value)}
                    />

                    <InputError message={errors.email} className="mt-2" />
                    <p className="text-xs text-gray-500 mt-1">
                        ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã¯ä»»æ„ã§ã™ã€‚ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ™‚ã«ä½¿ç”¨ã•ã‚Œã¾ã™ã€‚
                    </p>
                </div>

                <div className="mt-4">
                    <InputLabel htmlFor="department_id" value="æ‰€å±éƒ¨ç½²" />

                    <select
                        id="department_id"
                        name="department_id"
                        value={data.department_id}
                        className="mt-1 block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm"
                        onChange={(e) => setData('department_id', e.target.value)}
                        required
                    >
                        <option value="">éƒ¨ç½²ã‚’é¸æŠã—ã¦ãã ã•ã„</option>
                        {departments.map((department) => (
                            <option key={department.id} value={department.id}>
                                {department.department_name}
                            </option>
                        ))}
                    </select>

                    <InputError message={errors.department_id} className="mt-2" />
                </div>

                <div className="mt-4">
                    <InputLabel htmlFor="password" value="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰" />

                    <TextInput
                        id="password"
                        type="password"
                        name="password"
                        value={data.password}
                        className="mt-1 block w-full"
                        autoComplete="new-password"
                        onChange={(e) => setData('password', e.target.value)}
                        required
                    />

                    <InputError message={errors.password} className="mt-2" />
                </div>

                <div className="mt-4">
                    <InputLabel htmlFor="password_confirmation" value="ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ï¼ˆç¢ºèªï¼‰" />

                    <TextInput
                        id="password_confirmation"
                        type="password"
                        name="password_confirmation"
                        value={data.password_confirmation}
                        className="mt-1 block w-full"
                        autoComplete="new-password"
                        onChange={(e) => setData('password_confirmation', e.target.value)}
                        required
                    />

                    <InputError message={errors.password_confirmation} className="mt-2" />
                </div>

                <div className="flex items-center justify-end mt-4">
                    <Link
                        href={route('login')}
                        className="underline text-sm text-gray-600 hover:text-gray-900 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
                    >
                        ã™ã§ã«ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ãŠæŒã¡ã§ã™ã‹ï¼Ÿ
                    </Link>

                    <PrimaryButton className="ms-4" disabled={processing}>
                        ç™»éŒ²
                    </PrimaryButton>
                </div>
            </form>
        </GuestLayout>
    );
}
```

---

### ğŸ› ï¸ å®Ÿè£…æ‰‹é † 2-4: ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã®å¤‰æ›´

```php
// app/Http/Controllers/Auth/RegisteredUserController.php
<?php

namespace App\Http\Controllers\Auth;

use App\Http\Controllers\Controller;
use App\Models\User;
use App\Models\Department;
use Illuminate\Auth\Events\Registered;
use Illuminate\Http\RedirectResponse;
use Illuminate\Http\Request;
use Illuminate\Support\Facades\Auth;
use Illuminate\Support\Facades\Hash;
use Illuminate\Validation\Rules;
use Inertia\Inertia;
use Inertia\Response;

class RegisteredUserController extends Controller
{
    /**
     * Display the registration view.
     */
    public function create(): Response
    {
        return Inertia::render('Auth/Register', [
            'departments' => Department::orderBy('department_name')->get(['id', 'department_name']),
        ]);
    }

    /**
     * Handle an incoming registration request.
     *
     * @throws \Illuminate\Validation\ValidationException
     */
    public function store(Request $request): RedirectResponse
    {
        $request->validate([
            'name' => 'required|string|max:255',
            'username' => 'required|string|max:50|unique:'.User::class,
            'email' => 'nullable|string|email|max:255|unique:'.User::class,
            'password' => ['required', 'confirmed', Rules\Password::defaults()],
            'department_id' => 'required|exists:departments,id',
        ], [], [
            'name' => 'æ°å',
            'username' => 'ãƒ­ã‚°ã‚¤ãƒ³ID',
            'email' => 'ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹',
            'password' => 'ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰',
            'department_id' => 'æ‰€å±éƒ¨ç½²',
        ]);

        $user = User::create([
            'name' => $request->name,
            'username' => $request->username,
            'email' => $request->email,
            'password' => Hash::make($request->password),
            'department_id' => $request->department_id,
            'role' => 'staff', // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ä¸€èˆ¬è·å“¡
        ]);

        event(new Registered($user));

        Auth::login($user);

        return redirect(route('dashboard', absolute: false));
    }
}
```

---

### å‹•ä½œç¢ºèª

```bash
# Sailã‚’èµ·å‹•
./vendor/bin/sail up -d
npm run dev

# ç¢ºèªé …ç›®
# 1. /register ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ™ãƒ¼ã‚¹ã®ç™»éŒ²ãŒã§ãã‚‹
# 2. /login ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ™ãƒ¼ã‚¹ã®ãƒ­ã‚°ã‚¤ãƒ³ãŒã§ãã‚‹
# 3. ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒæ—¥æœ¬èªã§è¡¨ç¤ºã•ã‚Œã‚‹
# 4. éƒ¨ç½²é¸æŠãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
```

### ã‚ˆãã‚ã‚‹ã‚¨ãƒ©ãƒ¼ã¨è§£æ±ºæ–¹æ³•

**ã‚¨ãƒ©ãƒ¼1: `Call to undefined method App\Models\User::getAuthIdentifierName()`**
```
åŸå› : ãƒ¡ã‚½ãƒƒãƒ‰åã®ã‚¹ãƒšãƒ«ãƒŸã‚¹
è§£æ±º: getAuthIdentifierName() ã®æ­£ç¢ºãªå®Ÿè£…ã‚’ç¢ºèª
```

**ã‚¨ãƒ©ãƒ¼2: `SQLSTATE[23000]: Integrity constraint violation`**
```
åŸå› : username ã‚«ãƒ©ãƒ ã®ãƒ¦ãƒ‹ãƒ¼ã‚¯åˆ¶ç´„é•å
è§£æ±º: æ—¢å­˜ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèªã—ã€é‡è¤‡ã™ã‚‹usernameã‚’ä¿®æ­£
```

---

### Phase 2 å®Œäº†ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼åãƒ™ãƒ¼ã‚¹ã®èªè¨¼ãŒå‹•ä½œã™ã‚‹
- [ ] æ—¥æœ¬èªã§ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹
- [ ] è·å“¡ç™»éŒ²ã§éƒ¨ç½²é¸æŠãŒã§ãã‚‹
- [ ] ãƒ­ã‚°ã‚¤ãƒ³ãƒ»ãƒ­ã‚°ã‚¢ã‚¦ãƒˆãŒæ­£å¸¸ã«å‹•ä½œã™ã‚‹
- [ ] æ¨©é™ï¼ˆroleï¼‰ãŒæ­£ã—ãè¨­å®šã•ã‚Œã‚‹

### å­¦ç¿’ã®æŒ¯ã‚Šè¿”ã‚Š

Phase 2ã§ã¯ä»¥ä¸‹ã‚’å­¦ç¿’ã—ã¾ã—ãŸï¼š
- **Laravelèªè¨¼ã‚·ã‚¹ãƒ†ãƒ ã®ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºæ–¹æ³•**
- **å¤šè¨€èªå¯¾å¿œã®å®Ÿè£…æ‰‹æ³•**
- **Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè·µçš„ãªã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º**
- **å®Ÿéš›ã®æ¥­å‹™è¦ä»¶ã«å¿œã˜ãŸè¨­è¨ˆå¤‰æ›´**

Phase 3ã§ã¯ã€ã“ã‚Œã‚‰ã®åŸºç›¤ã®ä¸Šã«ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã¨UIã®ç¬¬ä¸€ç‰ˆã‚’æ§‹ç¯‰ã—ã¦ã„ãã¾ã™ã€‚

---

## Phase 3: ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ï¼ˆPR #3ç›¸å½“ï¼‰

### ã“ã®æ®µéšã®ç›®æ¨™
- **å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ä½¿ç”¨ã™ã‚‹ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã™ã‚‹**
- **ã‚·ãƒ¼ãƒ€ãƒ¼ã®å®Ÿè·µçš„ãªä½¿ã„æ–¹ã‚’å­¦ã¶**
- **ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®é‡è¦æ€§ã‚’ç†è§£ã™ã‚‹**

å®Ÿéš›ã®é–‹ç™ºã§ã¯ã“ã®ãƒ•ã‚§ãƒ¼ã‚ºãŒéå¸¸ã«çŸ­æ™‚é–“ï¼ˆ3ã‚³ãƒŸãƒƒãƒˆã®ã¿ï¼‰ã§å®Œäº†ã—ã¦ãŠã‚Šã€ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³é–‹ç™ºã®é‡è¦æ€§ãŒåˆ†ã‹ã‚Šã¾ã™ã€‚

### å®Ÿè£…ã™ã‚‹æ©Ÿèƒ½
1. å®Ÿç”¨çš„ãªã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿
2. æ—¥ä»˜ç¯„å›²ã§ã®ä¸€æ‹¬ãƒ‡ãƒ¼ã‚¿ç”Ÿæˆ
3. ãƒ†ã‚¹ãƒˆã‚·ãƒŠãƒªã‚ªã«åŸºã¥ããƒ‡ãƒ¼ã‚¿è¨­è¨ˆ

### å­¦ç¿’ãƒã‚¤ãƒ³ãƒˆ
- **Factory ãƒ‘ã‚¿ãƒ¼ãƒ³ã®æ´»ç”¨**
- **ãƒªã‚¢ãƒ«ãªãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã®ä½œæˆæ‰‹æ³•**
- **é–‹ç™ºåŠ¹ç‡ã‚’å‘ä¸Šã•ã›ã‚‹ã‚·ãƒ¼ãƒ€ãƒ¼è¨­è¨ˆ**

---

ã“ã®ã‚ˆã†ã«ã—ã¦ã€å®Ÿéš›ã®é–‹ç™ºå±¥æ­´ã«åŸºã¥ã„ãŸæ®µéšçš„ãªå­¦ç¿’ã‚¬ã‚¤ãƒ‰ã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å„ãƒ•ã‚§ãƒ¼ã‚ºã§å®Ÿéš›ã«é–‹ç™ºè€…ãŒä½“é¨“ã—ãŸå•é¡Œã¨è§£æ±ºæ–¹æ³•ã‚’å«ã‚ã‚‹ã“ã¨ã§ã€æœªçµŒé¨“è€…ã§ã‚‚å®Ÿè·µçš„ãªã‚¹ã‚­ãƒ«ã‚’èº«ã«ã¤ã‘ã‚‰ã‚Œã‚‹æ§‹æˆã«ãªã£ã¦ã„ã¾ã™ã€‚

å®Œå…¨ãªã‚¬ã‚¤ãƒ‰ã®ä½œæˆã«ã¯ç›¸å½“ãªæ™‚é–“ãŒã‹ã‹ã‚Šã¾ã™ãŒã€ã“ã®ã‚ˆã†ãªæ§‹é€ ã§é€²ã‚ã‚‹ã“ã¨ã§ã€ç†è«–ã ã‘ã§ãªãå®Ÿéš›ã®é–‹ç™ºçµŒé¨“ã«åŸºã¥ã„ãŸä¾¡å€¤ã®é«˜ã„æ•™è‚²è³‡æ–™ã‚’ä½œæˆã§ãã¾ã™ã€‚