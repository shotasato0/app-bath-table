# üìÖ Phase 4: „Ç´„É¨„É≥„ÉÄ„ÉºUIÂÆüË£Ö

„Åì„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„Åß„ÅØ„ÄÅReact + Inertia.js „Çí‰Ωø„Å£„Åü **„É¢„ÉÄ„É≥„Å™„Ç´„É¨„É≥„ÉÄ„ÉºUI** „ÅÆÂÆüË£ÖÊâãÈ†Ü„ÇíÊÆµÈöéÁöÑ„Å´Ë™¨Êòé„Åó„Åæ„Åô„ÄÇ

## üìã „Åì„ÅÆÊÆµÈöé„ÅÆÁõÆÊ®ô

- **react-big-calendarÁµ±Âêà**: „Éó„É≠„Éï„Çß„ÉÉ„Ç∑„Éß„Éä„É´„Å™„Ç´„É¨„É≥„ÉÄ„Éº„É©„Ç§„Éñ„É©„É™„ÅÆÊ¥ªÁî®
- **Êó•Êú¨Ë™ûÂØæÂøú„Ç´„É¨„É≥„ÉÄ„Éº**: moment.js „Å´„Çà„ÇãÂÆåÂÖ®Êó•Êú¨Ë™ûÂåñ
- **„É¨„Çπ„Éù„É≥„Ç∑„Éñ„Éá„Ç∂„Ç§„É≥**: „É¢„Éê„Ç§„É´„Éª„Çø„Éñ„É¨„ÉÉ„ÉàÂØæÂøú
- **„É™„Ç¢„É´„Çø„Ç§„É†Êõ¥Êñ∞**: „Çµ„Éº„Éê„Éº„Éá„Éº„Çø„Å®„ÅÆÂêåÊúü

## üéØ ÂÆüË£Ö„Åô„ÇãÊ©üËÉΩ

„Åì„ÅÆÊÆµÈöé„ÅßÂÆüË£Ö„Åô„Çã **„Ç´„É¨„É≥„ÉÄ„Éº„Ç∑„Çπ„ÉÜ„É†**Ôºö

```
„Ç´„É¨„É≥„ÉÄ„ÉºUI
‚îú‚îÄ‚îÄ ÊúàÈñì„Éì„É•„Éº: „É°„Ç§„É≥„ÅÆ„Ç´„É¨„É≥„ÉÄ„ÉºË°®Á§∫
‚îú‚îÄ‚îÄ ÈÄ±Èñì„Éì„É•„Éº: Ë©≥Á¥∞„Çπ„Ç±„Ç∏„É•„Éº„É´ÁÆ°ÁêÜ
‚îú‚îÄ‚îÄ Êó•Èñì„Éì„É•„Éº: ÂΩìÊó•„ÅÆË©≥Á¥∞„Çø„Ç§„É†„É©„Ç§„É≥
‚îî‚îÄ‚îÄ „Çµ„Ç§„Éâ„Éê„Éº: ‰ΩèÊ∞ë„É™„Çπ„Éà„ÉªÁµ±Ë®àÊÉÖÂ†±
```

## üí° Â≠¶Áøí„Éù„Ç§„É≥„Éà

„Åì„ÅÆÊÆµÈöé„ÅßË∫´„Å´„Å§„ÅèÊäÄË°ì„ÉªÁü•Ë≠òÔºö

- **React Hooks** „ÅÆÂÆüË∑µÁöÑ„Å™Ê¥ªÁî®
- **Á¨¨‰∏âËÄÖ„É©„Ç§„Éñ„É©„É™** „ÅÆÁµ±ÂêàÊñπÊ≥ï
- **Áä∂ÊÖãÁÆ°ÁêÜ** „ÅÆË®≠Ë®à„Éë„Çø„Éº„É≥
- **APIÈÄ£Êê∫** „Å®„Éá„Éº„ÇøÂêåÊúü
- **UI/UXË®≠Ë®à** „ÅÆÂÆüË∑µ

## üöÄ ÂÆüË£ÖÊâãÈ†Ü

### Step 1: „Éï„É≠„É≥„Éà„Ç®„É≥„Éâ‰æùÂ≠òÈñ¢‰øÇ„ÅÆËøΩÂä†

```bash
# React „Ç´„É¨„É≥„ÉÄ„Éº„É©„Ç§„Éñ„É©„É™„Å®„Åù„ÅÆ‰æùÂ≠òÈñ¢‰øÇ„Çí„Ç§„É≥„Çπ„Éà„Éº„É´
npm install react-big-calendar moment
npm install --save-dev @types/react-big-calendar
```

### Step 2: „Éê„ÉÉ„ÇØ„Ç®„É≥„ÉâAPI „ÅÆÂÆüË£Ö

#### 2.1 „Ç´„É¨„É≥„ÉÄ„Éº„Ç≥„É≥„Éà„É≠„Éº„É©„Éº„ÅÆ‰ΩúÊàê

```bash
./vendor/bin/sail artisan make:controller CalendarController
```

```php
// app/Http/Controllers/CalendarController.php

class CalendarController extends Controller
{
    public function index(Request $request)
    {
        $user = $request->user();
        
        // „ÇØ„Ç®„É™„Éë„É©„É°„Éº„Çø„Åã„ÇâÂπ¥Êúà„ÇíÂèñÂæó
        $year = $request->get('year', Carbon::now()->year);
        $month = $request->get('month', Carbon::now()->month);
        
        // Êúà„ÅÆÁØÑÂõ≤„ÇíË®àÁÆó
        $startOfMonth = Carbon::create($year, $month, 1);
        $endOfMonth = $startOfMonth->copy()->endOfMonth();
        
        // „Ç´„É¨„É≥„ÉÄ„ÉºË°®Á§∫Áî®„Å´ÂâçÂæå„ÅÆÊó•‰ªò„ÇÇÂê´„ÇÅ„Çã
        $startOfCalendar = $startOfMonth->copy()->startOfWeek(Carbon::SUNDAY);
        $endOfCalendar = $endOfMonth->copy()->endOfWeek(Carbon::SATURDAY);

        // „Çπ„Ç±„Ç∏„É•„Éº„É´ÂèñÂæóÔºàN+1ÂïèÈ°å„ÇíÂõûÈÅøÔºâ
        $schedules = Schedule::with(['scheduleType', 'resident', 'creator'])
            ->whereBetween('date', [
                $startOfCalendar->format('Y-m-d'),
                $endOfCalendar->format('Y-m-d')
            ])
            ->orderBy('date')
            ->orderBy('start_time')
            ->get();

        // react-big-calendarÁî®„Å´„Ç§„Éô„É≥„Éà„Éá„Éº„Çø„ÇíÊï¥ÂΩ¢
        $events = $schedules->map(function ($schedule) {
            $startDateTime = $schedule->all_day 
                ? $schedule->date . ' 00:00:00'
                : $schedule->date . ' ' . $schedule->start_time;
                
            $endDateTime = $schedule->all_day
                ? $schedule->date . ' 23:59:59'
                : $schedule->date . ' ' . $schedule->end_time;

            return [
                'id' => $schedule->id,
                'title' => $schedule->title,
                'start' => $startDateTime,
                'end' => $endDateTime,
                'allDay' => $schedule->all_day,
                'resource' => [
                    'schedule' => $schedule,
                    'type' => $schedule->scheduleType,
                    'resident' => $schedule->resident,
                    'creator' => $schedule->creator,
                ],
                'style' => [
                    'backgroundColor' => $schedule->scheduleType->color_code ?? '#3B82F6',
                    'borderColor' => $schedule->scheduleType->color_code ?? '#3B82F6',
                ],
            ];
        });

        return Inertia::render('Calendar/Index', [
            'user' => $user->load('department'),
            'events' => $events,
            'residents' => Resident::active()->orderBy('room_number')->get(),
            'scheduleTypes' => ScheduleType::orderBy('name')->get(),
            'currentMonth' => [
                'year' => $year,
                'month' => $month,
                'formatted' => $startOfMonth->format('YÂπ¥nÊúà'),
            ],
            'monthStats' => $this->calculateMonthStats($schedules),
        ]);
    }

    private function calculateMonthStats($schedules)
    {
        return [
            'total_schedules' => $schedules->count(),
            'bath_schedules' => $schedules->where('scheduleType.name', 'ÂÖ•Êµ¥')->count(),
            'rehabilitation_schedules' => $schedules->where('scheduleType.name', '„É™„Éè„Éì„É™')->count(),
            'recreation_schedules' => $schedules->where('scheduleType.name', '„É¨„ÇØ„É™„Ç®„Éº„Ç∑„Éß„É≥')->count(),
        ];
    }
}
```

#### 2.2 „É´„Éº„ÉàË®≠ÂÆö

```php
// routes/web.php

Route::middleware(['auth', 'verified'])->group(function () {
    Route::get('/dashboard', [DashboardController::class, 'index'])->name('dashboard');
    
    // „Ç´„É¨„É≥„ÉÄ„ÉºÈñ¢ÈÄ£„É´„Éº„Éà
    Route::get('/calendar', [CalendarController::class, 'index'])->name('calendar.index');
    Route::get('/calendar/week', [CalendarController::class, 'week'])->name('calendar.week');
    Route::get('/calendar/{date}', [CalendarController::class, 'show'])->name('calendar.show');
});
```

### Step 3: React „Ç´„É¨„É≥„ÉÄ„Éº„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà„ÅÆÂÆüË£Ö

#### 3.1 „É°„Ç§„É≥„Ç´„É¨„É≥„ÉÄ„Éº„Éö„Éº„Ç∏

```jsx
// resources/js/Pages/Calendar/Index.jsx

import { useState } from 'react';
import { Calendar, momentLocalizer } from 'react-big-calendar';
import moment from 'moment';
import 'moment/locale/ja';
import 'react-big-calendar/lib/css/react-big-calendar.css';
import AuthenticatedLayout from '@/Layouts/AuthenticatedLayout';
import { Head, router } from '@inertiajs/react';

// Êó•Êú¨Ë™ûË®≠ÂÆö
moment.locale('ja');
const localizer = momentLocalizer(moment);

// „Ç´„É¨„É≥„ÉÄ„Éº„ÅÆÊó•Êú¨Ë™û„É°„ÉÉ„Çª„Éº„Ç∏
const messages = {
    allDay: 'ÁµÇÊó•',
    previous: 'Ââç',
    next: 'Ê¨°',
    today: '‰ªäÊó•',
    month: 'Êúà',
    week: 'ÈÄ±',
    day: 'Êó•',
    agenda: '‰∫àÂÆö',
    date: 'Êó•‰ªò',
    time: 'ÊôÇÂàª',
    event: '‰∫àÂÆö',
    noEventsInRange: '„Åì„ÅÆÊúüÈñì„Å´„ÅØ‰∫àÂÆö„Åå„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ',
    showMore: (total) => `‰ªñ${total}‰ª∂`,
};

export default function CalendarIndex({ 
    user, 
    events, 
    residents, 
    scheduleTypes, 
    currentMonth, 
    monthStats 
}) {
    const [view, setView] = useState('month');
    const [date, setDate] = useState(new Date());

    // „Ç§„Éô„É≥„Éà„ÇØ„É™„ÉÉ„ÇØÊôÇ„ÅÆÂá¶ÁêÜ
    const handleSelectEvent = (event) => {
        console.log('Selected event:', event);
        // TODO: „É¢„Éº„ÉÄ„É´Ë°®Á§∫„ÇÑ„Éö„Éº„Ç∏ÈÅ∑Áßª„ÅÆÂÆüË£Ö
    };

    // Êó•‰ªò„ÇØ„É™„ÉÉ„ÇØÊôÇ„ÅÆÂá¶ÁêÜ
    const handleSelectSlot = (slotInfo) => {
        const selectedDate = moment(slotInfo.start).format('YYYY-MM-DD');
        console.log('Selected date:', selectedDate);
        // TODO: Êñ∞Ë¶è„Çπ„Ç±„Ç∏„É•„Éº„É´‰ΩúÊàê„ÅÆÂÆüË£Ö
    };

    // ÊúàÂ§âÊõ¥ÊôÇ„ÅÆÂá¶ÁêÜ
    const handleNavigate = (newDate) => {
        setDate(newDate);
        const year = moment(newDate).year();
        const month = moment(newDate).month() + 1;
        
        router.get(route('calendar.index'), { year, month });
    };

    // „Ç§„Éô„É≥„Éà„Çπ„Çø„Ç§„É´„ÅÆ„Ç´„Çπ„Çø„Éû„Ç§„Ç∫
    const eventStyleGetter = (event) => {
        const backgroundColor = event.resource?.type?.color_code || '#3B82F6';
        
        return {
            style: {
                backgroundColor,
                borderRadius: '4px',
                opacity: 0.9,
                color: '#fff',
                border: 'none',
                fontSize: '12px',
                padding: '2px 4px',
            }
        };
    };

    // ‰ªäÊó•„ÅÆÊó•‰ªò„Éè„Ç§„É©„Ç§„Éà
    const dayPropGetter = (date) => {
        const today = moment().format('YYYY-MM-DD');
        const cellDate = moment(date).format('YYYY-MM-DD');
        
        if (cellDate === today) {
            return {
                style: {
                    backgroundColor: '#EBF8FF',
                    border: '2px solid #3182CE',
                }
            };
        }
        
        return {};
    };

    return (
        <AuthenticatedLayout user={user}>
            <Head title="„Ç´„É¨„É≥„ÉÄ„Éº" />

            <div className="py-6">
                <div className="max-w-7xl mx-auto sm:px-6 lg:px-8">
                    
                    {/* ÊúàÈñìÁµ±Ë®à„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ */}
                    <div className="mb-6 grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div className="bg-white p-4 rounded-lg shadow border">
                            <div className="text-sm text-gray-600">Á∑è„Çπ„Ç±„Ç∏„É•„Éº„É´</div>
                            <div className="text-2xl font-bold text-blue-600">
                                {monthStats.total_schedules}‰ª∂
                            </div>
                        </div>
                        <div className="bg-white p-4 rounded-lg shadow border">
                            <div className="text-sm text-gray-600">ÂÖ•Êµ¥‰∫àÂÆö</div>
                            <div className="text-2xl font-bold text-purple-600">
                                {monthStats.bath_schedules}‰ª∂
                            </div>
                        </div>
                        <div className="bg-white p-4 rounded-lg shadow border">
                            <div className="text-sm text-gray-600">„É™„Éè„Éì„É™</div>
                            <div className="text-2xl font-bold text-green-600">
                                {monthStats.rehabilitation_schedules}‰ª∂
                            </div>
                        </div>
                        <div className="bg-white p-4 rounded-lg shadow border">
                            <div className="text-sm text-gray-600">„É¨„ÇØ„É™„Ç®„Éº„Ç∑„Éß„É≥</div>
                            <div className="text-2xl font-bold text-orange-600">
                                {monthStats.recreation_schedules}‰ª∂
                            </div>
                        </div>
                    </div>

                    {/* „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú„ÅÆ„Ç´„É¨„É≥„ÉÄ„Éº„É¨„Ç§„Ç¢„Ç¶„Éà */}
                    <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
                        
                        {/* „Ç´„É¨„É≥„ÉÄ„Éº„É°„Ç§„É≥ÈÉ®ÂàÜ */}
                        <div className="lg:col-span-3">
                            <div className="bg-white rounded-lg shadow border overflow-hidden">
                                <div className="p-4 border-b">
                                    <h2 className="text-lg font-semibold text-gray-900">
                                        {currentMonth.formatted}
                                    </h2>
                                </div>
                                <div className="p-4">
                                    <Calendar
                                        localizer={localizer}
                                        events={events}
                                        startAccessor="start"
                                        endAccessor="end"
                                        style={{ height: 600 }}
                                        view={view}
                                        date={date}
                                        onNavigate={handleNavigate}
                                        onView={setView}
                                        onSelectEvent={handleSelectEvent}
                                        onSelectSlot={handleSelectSlot}
                                        selectable
                                        popup
                                        messages={messages}
                                        eventPropGetter={eventStyleGetter}
                                        dayPropGetter={dayPropGetter}
                                        formats={{
                                            dayFormat: 'D',
                                            monthHeaderFormat: 'YYYYÂπ¥MÊúà',
                                            dayHeaderFormat: 'M/D (ddd)',
                                            timeGutterFormat: 'HH:mm',
                                        }}
                                    />
                                </div>
                            </div>
                        </div>

                        {/* „Çµ„Ç§„Éâ„Éê„Éº */}
                        <div className="lg:col-span-1">
                            <CalendarSidebar 
                                residents={residents}
                                scheduleTypes={scheduleTypes}
                            />
                        </div>
                    </div>
                </div>
            </div>
        </AuthenticatedLayout>
    );
}
```

#### 3.2 „Ç´„É¨„É≥„ÉÄ„Éº„Çµ„Ç§„Éâ„Éê„Éº„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà

```jsx
// resources/js/Components/Calendar/CalendarSidebar.jsx

export default function CalendarSidebar({ residents, scheduleTypes }) {
    return (
        <div className="space-y-6">
            
            {/* „Çπ„Ç±„Ç∏„É•„Éº„É´Á®ÆÂà•Âá°‰æã */}
            <div className="bg-white rounded-lg shadow border p-4">
                <h3 className="font-semibold text-gray-900 mb-3">„Çπ„Ç±„Ç∏„É•„Éº„É´Á®ÆÂà•</h3>
                <div className="space-y-2">
                    {scheduleTypes.map((type) => (
                        <div key={type.id} className="flex items-center space-x-2">
                            <div 
                                className="w-4 h-4 rounded"
                                style={{ backgroundColor: type.color_code }}
                            ></div>
                            <span className="text-sm text-gray-700">{type.name}</span>
                        </div>
                    ))}
                </div>
            </div>

            {/* ‰ΩèÊ∞ë‰∏ÄË¶ß */}
            <div className="bg-white rounded-lg shadow border p-4">
                <h3 className="font-semibold text-gray-900 mb-3">
                    ÂÖ•Â±Ö‰ΩèÊ∞ë ({residents.length}Âêç)
                </h3>
                <div className="space-y-2 max-h-80 overflow-y-auto">
                    {residents.map((resident) => (
                        <div 
                            key={resident.id} 
                            className="flex items-center justify-between p-2 hover:bg-gray-50 rounded"
                        >
                            <div>
                                <div className="font-medium text-sm">{resident.name}</div>
                                <div className="text-xs text-gray-500">
                                    {resident.room_number}Âè∑ÂÆ§
                                </div>
                            </div>
                            <div className="text-xs text-gray-400">
                                {resident.gender === 'male' ? 'üë®' : resident.gender === 'female' ? 'üë©' : 'üë§'}
                            </div>
                        </div>
                    ))}
                </div>
            </div>

            {/* „ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Ç∑„Éß„É≥ */}
            <div className="bg-white rounded-lg shadow border p-4">
                <h3 className="font-semibold text-gray-900 mb-3">„ÇØ„Ç§„ÉÉ„ÇØ„Ç¢„ÇØ„Ç∑„Éß„É≥</h3>
                <div className="space-y-2">
                    <button className="w-full text-left px-3 py-2 text-sm bg-blue-50 hover:bg-blue-100 rounded-md">
                        üìÖ Êñ∞Ë¶è„Çπ„Ç±„Ç∏„É•„Éº„É´
                    </button>
                    <button className="w-full text-left px-3 py-2 text-sm bg-green-50 hover:bg-green-100 rounded-md">
                        üë• ‰ΩèÊ∞ëÁÆ°ÁêÜ
                    </button>
                    <button className="w-full text-left px-3 py-2 text-sm bg-purple-50 hover:bg-purple-100 rounded-md">
                        üìä „É¨„Éù„Éº„ÉàË°®Á§∫
                    </button>
                </div>
            </div>
        </div>
    );
}
```

### Step 4: „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú„Å®„É¢„Éê„Ç§„É´ÊúÄÈÅ©Âåñ

#### 4.1 „É¢„Éê„Ç§„É´Â∞ÇÁî®„Ç´„É¨„É≥„ÉÄ„Éº„Ç≥„É≥„Éù„Éº„Éç„É≥„Éà

```jsx
// resources/js/Components/Calendar/MobileCalendar.jsx

import { useState } from 'react';
import moment from 'moment';

export default function MobileCalendar({ events, currentMonth }) {
    const [selectedDate, setSelectedDate] = useState(moment().format('YYYY-MM-DD'));
    
    // Êúà„ÅÆ„Ç´„É¨„É≥„ÉÄ„Éº„Ç∞„É™„ÉÉ„ÉâÁîüÊàê
    const generateCalendarDays = () => {
        const startOfMonth = moment(`${currentMonth.year}-${currentMonth.month}-01`);
        const endOfMonth = startOfMonth.clone().endOf('month');
        const startOfCalendar = startOfMonth.clone().startOf('week');
        const endOfCalendar = endOfMonth.clone().endOf('week');
        
        const days = [];
        let day = startOfCalendar.clone();
        
        while (day.isSameOrBefore(endOfCalendar)) {
            days.push(day.clone());
            day.add(1, 'day');
        }
        
        return days;
    };

    const calendarDays = generateCalendarDays();
    const selectedDayEvents = events.filter(event => 
        moment(event.start).format('YYYY-MM-DD') === selectedDate
    );

    return (
        <div className="bg-white rounded-lg shadow border">
            {/* Êúà„Éò„ÉÉ„ÉÄ„Éº */}
            <div className="p-4 border-b">
                <h2 className="text-lg font-semibold text-center">
                    {currentMonth.formatted}
                </h2>
            </div>

            {/* „Ç´„É¨„É≥„ÉÄ„Éº„Ç∞„É™„ÉÉ„Éâ */}
            <div className="p-4">
                {/* ÊõúÊó•„Éò„ÉÉ„ÉÄ„Éº */}
                <div className="grid grid-cols-7 gap-1 mb-2">
                    {['Êó•', 'Êúà', 'ÁÅ´', 'Ê∞¥', 'Êú®', 'Èáë', 'Âúü'].map((day) => (
                        <div key={day} className="text-center text-xs font-medium text-gray-500 py-2">
                            {day}
                        </div>
                    ))}
                </div>

                {/* Êó•‰ªò„Ç∞„É™„ÉÉ„Éâ */}
                <div className="grid grid-cols-7 gap-1">
                    {calendarDays.map((day) => {
                        const dayStr = day.format('YYYY-MM-DD');
                        const dayEvents = events.filter(event => 
                            moment(event.start).format('YYYY-MM-DD') === dayStr
                        );
                        const isSelected = selectedDate === dayStr;
                        const isToday = moment().format('YYYY-MM-DD') === dayStr;
                        const isCurrentMonth = day.month() + 1 === currentMonth.month;

                        return (
                            <button
                                key={dayStr}
                                onClick={() => setSelectedDate(dayStr)}
                                className={`
                                    aspect-square p-1 text-xs rounded-md relative
                                    ${isSelected ? 'bg-blue-500 text-white' : ''}
                                    ${isToday && !isSelected ? 'bg-blue-100 text-blue-800' : ''}
                                    ${!isCurrentMonth ? 'text-gray-300' : 'text-gray-900'}
                                    hover:bg-gray-100
                                `}
                            >
                                <div>{day.format('D')}</div>
                                {dayEvents.length > 0 && (
                                    <div className="absolute bottom-0 left-1/2 transform -translate-x-1/2">
                                        <div className="w-1 h-1 bg-red-500 rounded-full"></div>
                                    </div>
                                )}
                            </button>
                        );
                    })}
                </div>
            </div>

            {/* ÈÅ∏ÊäûÊó•„ÅÆ„Çπ„Ç±„Ç∏„É•„Éº„É´ */}
            <div className="p-4 border-t">
                <h3 className="font-medium text-gray-900 mb-2">
                    {moment(selectedDate).format('MÊúàDÊó•ÔºàdddÔºâ')} „ÅÆ„Çπ„Ç±„Ç∏„É•„Éº„É´
                </h3>
                {selectedDayEvents.length === 0 ? (
                    <p className="text-sm text-gray-500">‰∫àÂÆö„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</p>
                ) : (
                    <div className="space-y-2">
                        {selectedDayEvents.map((event) => (
                            <div key={event.id} className="bg-gray-50 p-2 rounded">
                                <div className="font-medium text-sm">{event.title}</div>
                                <div className="text-xs text-gray-600">
                                    {event.resource?.resident?.name || 'ÂÖ®‰Ωì'}
                                    {!event.allDay && (
                                        <span className="ml-2">
                                            {moment(event.start).format('HH:mm')} - 
                                            {moment(event.end).format('HH:mm')}
                                        </span>
                                    )}
                                </div>
                            </div>
                        ))}
                    </div>
                )}
            </div>
        </div>
    );
}
```

#### 4.2 „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂàá„ÇäÊõø„Åà„É≠„Ç∏„ÉÉ„ÇØ

```jsx
// resources/js/Pages/Calendar/Index.jsx „ÅÆ‰øÆÊ≠£

import MobileCalendar from '@/Components/Calendar/MobileCalendar';
import { useState, useEffect } from 'react';

export default function CalendarIndex({ /* props */ }) {
    const [isMobile, setIsMobile] = useState(false);

    useEffect(() => {
        const checkMobile = () => {
            setIsMobile(window.innerWidth < 768);
        };

        checkMobile();
        window.addEventListener('resize', checkMobile);
        return () => window.removeEventListener('resize', checkMobile);
    }, []);

    return (
        <AuthenticatedLayout user={user}>
            <Head title="„Ç´„É¨„É≥„ÉÄ„Éº" />

            <div className="py-6">
                <div className="max-w-7xl mx-auto sm:px-6 lg:px-8">
                    
                    {/* Áµ±Ë®à„ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ */}
                    {/* ... Áµ±Ë®àË°®Á§∫ÈÉ®ÂàÜ„ÅØÂÖ±ÈÄö ... */}

                    {/* „É¨„Çπ„Éù„É≥„Ç∑„Éñ„Ç´„É¨„É≥„ÉÄ„ÉºË°®Á§∫ */}
                    {isMobile ? (
                        <MobileCalendar 
                            events={events}
                            currentMonth={currentMonth}
                        />
                    ) : (
                        <div className="grid grid-cols-1 lg:grid-cols-4 gap-6">
                            {/* „Éá„Çπ„ÇØ„Éà„ÉÉ„ÉóÁâà„Ç´„É¨„É≥„ÉÄ„Éº */}
                            {/* ... Êó¢Â≠ò„ÅÆ„Ç´„É¨„É≥„ÉÄ„ÉºË°®Á§∫ ... */}
                        </div>
                    )}
                </div>
            </div>
        </AuthenticatedLayout>
    );
}
```

### Step 5: „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„Å®„Éò„ÉÉ„ÉÄ„Éº„ÅÆÊõ¥Êñ∞

```jsx
// resources/js/Layouts/AuthenticatedLayout.jsx „ÅÆ‰øÆÊ≠£

export default function AuthenticatedLayout({ user, header, children }) {
    return (
        <div className="min-h-screen bg-gray-100">
            <nav className="bg-white border-b border-gray-100">
                <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div className="flex justify-between h-16">
                        <div className="flex">
                            {/* „É≠„Ç¥ÈÉ®ÂàÜ */}
                            <div className="shrink-0 flex items-center">
                                <Link href="/">
                                    <span className="text-xl font-bold text-gray-900">
                                        ‰ªãË≠∑ÊñΩË®≠„Ç´„É¨„É≥„ÉÄ„Éº
                                    </span>
                                </Link>
                            </div>

                            {/* „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„É°„Éã„É•„Éº */}
                            <div className="hidden space-x-8 sm:-my-px sm:ml-10 sm:flex">
                                <NavLink 
                                    href={route('dashboard')} 
                                    active={route().current('dashboard')}
                                >
                                    „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„Éâ
                                </NavLink>
                                <NavLink 
                                    href={route('calendar.index')} 
                                    active={route().current('calendar.*')}
                                >
                                    „Ç´„É¨„É≥„ÉÄ„Éº
                                </NavLink>
                                {user.role === 'admin' && (
                                    <>
                                        <NavLink 
                                            href={route('residents.index')} 
                                            active={route().current('residents.*')}
                                        >
                                            ‰ΩèÊ∞ëÁÆ°ÁêÜ
                                        </NavLink>
                                        <NavLink 
                                            href={route('users.index')} 
                                            active={route().current('users.*')}
                                        >
                                            ËÅ∑Âì°ÁÆ°ÁêÜ
                                        </NavLink>
                                    </>
                                )}
                            </div>
                        </div>

                        {/* „É¶„Éº„Ç∂„Éº„É°„Éã„É•„Éº */}
                        {/* ... Êó¢Â≠ò„ÅÆ„É¶„Éº„Ç∂„Éº„É°„Éã„É•„ÉºÈÉ®ÂàÜ ... */}
                    </div>
                </div>
            </nav>

            {/* „Éö„Éº„Ç∏„Éò„ÉÉ„ÉÄ„Éº */}
            {header && (
                <header className="bg-white shadow">
                    <div className="max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8">
                        {header}
                    </div>
                </header>
            )}

            {/* „É°„Ç§„É≥„Ç≥„É≥„ÉÜ„É≥„ÉÑ */}
            <main>{children}</main>
        </div>
    );
}
```

## ‚úÖ Á¢∫Ë™çÊñπÊ≥ï

Phase 4 „ÅåÂÆå‰∫Ü„Åó„Åü„Çâ„ÄÅ‰ª•‰∏ã„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºö

### „Ç´„É¨„É≥„ÉÄ„ÉºË°®Á§∫„ÅÆÁ¢∫Ë™ç

```bash
# ÈñãÁô∫„Çµ„Éº„Éê„ÉºËµ∑Âãï
./vendor/bin/sail up -d
npm run dev

# „Éñ„É©„Ç¶„Ç∂„ÅßÁ¢∫Ë™ç
# http://localhost/calendar
```

### Ê©üËÉΩÂãï‰ΩúÁ¢∫Ë™ç

- [ ] ÊúàÈñì„Ç´„É¨„É≥„ÉÄ„Éº„ÅåÊ≠£Â∏∏„Å´Ë°®Á§∫„Åï„Çå„Çã
- [ ] „Çπ„Ç±„Ç∏„É•„Éº„É´„ÅåÈÅ©Âàá„Å™Ëâ≤„ÅßË°®Á§∫„Åï„Çå„Çã
- [ ] Êó•Êú¨Ë™ûÂåñ„ÅåÊ≠£„Åó„ÅèÂãï‰Ωú„Åó„Å¶„ÅÑ„Çã
- [ ] „É¢„Éê„Ç§„É´Ë°®Á§∫„ÅåÈÅ©Âàá„Å´Âàá„ÇäÊõø„Çè„Çã
- [ ] „Çµ„Ç§„Éâ„Éê„Éº„ÅÆ‰ΩèÊ∞ë„É™„Çπ„Éà„ÅåË°®Á§∫„Åï„Çå„Çã

### „É¨„Çπ„Éù„É≥„Ç∑„ÉñÁ¢∫Ë™ç

```bash
# „Éñ„É©„Ç¶„Ç∂„ÅÆÈñãÁô∫ËÄÖ„ÉÑ„Éº„É´„Åß„É¨„Çπ„Éù„É≥„Ç∑„Éñ„ÉÜ„Çπ„Éà
# F12 ‚Üí „Éá„Éê„Ç§„Çπ„É¢„Éº„Éâ„ÅßÂêÑÁîªÈù¢„Çµ„Ç§„Ç∫„ÇíÁ¢∫Ë™ç
```

## üéØ Ê¨°„ÅÆÊÆµÈöé„Å∏„ÅÆÊ∫ñÂÇô

Phase 4 „ÅåÊ≠£Â∏∏„Å´ÂÆå‰∫Ü„Åó„Åü„Çâ„ÄÅ‰ª•‰∏ã„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åã„Çâ Phase 5 „Å´ÈÄ≤„Åø„Åæ„ÅôÔºö

- [ ] „Ç´„É¨„É≥„ÉÄ„ÉºUI„ÅåÊ≠£Â∏∏Ë°®Á§∫„Åï„Çå„Å¶„ÅÑ„Çã
- [ ] Êó•Êú¨Ë™ûÂåñ„ÅåÂÆå‰∫Ü„Åó„Å¶„ÅÑ„Çã
- [ ] „É¨„Çπ„Éù„É≥„Ç∑„ÉñÂØæÂøú„ÅåÂãï‰Ωú„Åó„Å¶„ÅÑ„Çã
- [ ] APIÈÄ£Êê∫„ÅåÊ≠£Â∏∏„Å´Ê©üËÉΩ„Åó„Å¶„ÅÑ„Çã
- [ ] „Éä„Éì„Ç≤„Éº„Ç∑„Éß„É≥„ÅåÈÅ©Âàá„Å´Âãï‰Ωú„Åó„Å¶„ÅÑ„Çã

**Ê¨°Âõû**: [Phase 5: ‰ΩèÊ∞ëÁÆ°ÁêÜÊ©üËÉΩ](phase-05-resident-management.md) „Åß„ÅØ„ÄÅ‰ΩèÊ∞ëÊÉÖÂ†±„ÅÆ CRUD Êìç‰Ωú„Å®„Çπ„Ç±„Ç∏„É•„Éº„É´ÈÄ£Êê∫Ê©üËÉΩ„ÇíÂÆüË£Ö„Åó„Åæ„Åô„ÄÇ

---

**üí° Phase 4 „ÅÆ„Éù„Ç§„É≥„Éà**: 
- **„É¢„ÉÄ„É≥UI**: react-big-calendar „Å´„Çà„ÇãÈ´òÊ©üËÉΩ„Ç´„É¨„É≥„ÉÄ„Éº
- **Êó•Êú¨Ë™ûÂåñ**: moment.js „Å´„Çà„ÇãÂÆåÂÖ®„Å™Êó•Êú¨Ë™ûÂØæÂøú
- **„É¨„Çπ„Éù„É≥„Ç∑„Éñ**: „É¢„Éê„Ç§„É´„Éï„Ç°„Éº„Çπ„Éà„ÅÆUIË®≠Ë®à
- **ÂÆüÁî®ÊÄß**: ‰ªãË≠∑ËÅ∑Âì°„ÅåÂÆüÈöõ„Å´‰Ωø„ÅÑ„ÇÑ„Åô„ÅÑUXË®≠Ë®à